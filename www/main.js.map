{"version":3,"sources":["util (ignored)","./src/app/pages/distribution-onboarding/distribution-onboarding.module.ts","webpack:///util (ignored)?9dd1","./src/app/services/device/device.service.ts","webpack:///util (ignored)?90d6","webpack:///util (ignored)?8bf3","buffer (ignored)","crypto (ignored)","./src/app/services/error-handler/error-handler.service.ts","webpack:///buffer (ignored)?e464","fs (ignored)","./src/app/services/camera/camera.browser.service.ts","./src/app/services/audio/audio.browser.service.ts","./src/environments/environment.ts","./src/app/capacitor-plugins/injection-tokens.ts","./src/app/models/secret.ts","./src/app/functions/exposed-promise.ts","./src/app/pages/introduction/introduction.page.ts","./src/app/pages/introduction/introduction.page.html","./src/app/pages/distribution-onboarding/distribution-onboarding.page.ts","./src/app/pages/distribution-onboarding/distribution-onboarding.page.html","./src/app/services/storage/storage.service.ts","./src/app/services/sapling-native/sapling-native.service.ts","./src/app/services/entropy/entropy.service.ts","./src/app/services/secure-storage/secure-storage.factory.ts","./src/app/pages/local-authentication-onboarding/local-authentication-onboarding.page.ts","./src/app/pages/local-authentication-onboarding/local-authentication-onboarding.page.html","./src/assets/workers/entropyCalculatorWorker.ts","./node_modules/moment/locale sync ^\\.\\/.*$","./src/app/app.component.ts","./src/app/app.component.html","./src/app/config/app-config.ts","./src/app/services/entropy/dummy.entropy.service.ts","./src/app/pages/warning-modal/warning-modal.page.ts","./src/app/pages/warning-modal/warning-modal.page.html","./src/app/app.module.ts","./src/app/services/secrets/secrets.service.ts","./src/app/pages/warning-modal/warning-modal.module.ts","./src/app/constants/constants.ts","./src/app/capacitor-plugins/definitions.ts","./src/app/services/startup-checks/startup-checks.service.ts","./src/app/pages/local-authentication-onboarding/local-authentication-onboarding.module.ts","./src/app/services/secure-storage/secure-storage.service.ts","./src/app/services/secure-storage/secure-storage.mock.ts","./src/app/pages/introduction/introduction.module.ts","./node_modules/@ionic/core/dist/esm lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","./src/app/services/audio/audio.factory.ts","./src/app/services/camera/camera.native.service.ts","./src/app/services/audio/audio.native.servive.ts","./src/assets/workers/hashWorker.ts","./src/app/services/share-url/share-url.service.ts","./src/app/services/camera/camera.factory.ts","./src/app/utils/utils.ts","./src/app/services/navigation/navigation.service.ts","./src/app/services/interaction/interaction.service.ts","./src/app/app-routing.module.ts","./src/app/services/gyroscope/gyroscope.factory.ts","./src/app/services/iac/iac.service.ts","./src/app/app.reducers.ts","./src/app/models/BIP39Signer.ts","./src/main.ts","./src/app/services/gyroscope/gyroscope.native.service.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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CAAC,2FAAa,CAAC,WAAW,CAAC,CAAC;;;;;KACzG;sHANU,iCAAiC;qHAAjC,iCAAiC;YCX9C,gFAAkC;YAAA,yEAA2B;YAAA,4DAAa;YAE1E,iFAAiC;YAC/B,mEAAoG;;YAEpG,6EAAiE;YAC/D,oEAAyF;YAC3F,4DAAU;YAEV,oEAAG;YAAA,uDAAwD;;YAAA,4DAAI;YAE/D,8EAAyD;YACvD,iFAA2E;YAAzB,8JAAS,kBAAc,IAAC;YACxE,wDACF;;YAAA,4DAAa;YACf,4DAAU;YACZ,4DAAc;;YAbe,0DAAmE;YAAnE,+OAAmE;YAM3F,0DAAwD;YAAxD,wKAAwD;YAIvD,0DACF;YADE,kMACF;;4CDdJ;CAkBC;AAP6C;;;;;;;;;;;;;AEX9C;AAAA,6DAA6D;AAC7D,IAAM,yBAAyB,GAAG,+mUAuBhC;AAEa,wFAAyB;;;;;;;;;;;;AC1BxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5R6B;AAKoD;AAC+B;AAC/D;AACuB;AAGV;AACrB;AACH;AAGsC;AACa;AACb;AAEoB;AACzC;AACqB;AACW;AACpB;AACoB;;;;;;;;;;AAIvF;IASE,sBACmB,QAAkB,EAClB,aAAmC,EACnC,UAAsB,EACtB,eAAgC,EAChC,eAAgC,EAChC,cAA8B,EAC9B,MAAc,EACd,iBAAoC,EACpC,UAAsB,EACtB,oBAA0C,EACtB,GAAc,EACH,aAAkC,EACnC,YAAgC,EACnC,SAA0B;QAbrD,aAAQ,GAAR,QAAQ,CAAU;QAClB,kBAAa,GAAb,aAAa,CAAsB;QACnC,eAAU,GAAV,UAAU,CAAY;QACtB,oBAAe,GAAf,eAAe,CAAiB;QAChC,oBAAe,GAAf,eAAe,CAAiB;QAChC,mBAA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,MAAM;mCANpB;CAwFC;AAhFoC;;;;;;;;;;;;;ACRrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8C;AAEF;AACU;AACV;AACS;AAEC;;;AAEtD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,mEAAgB;KAC5B;CACF;AAED;IAAA;KAIsC;gGAAzB,sBAAsB;yGAAtB,sBAAsB;6GAHxB,CAAC,4DAAY,EAAE,0DAAW,EAAE,0DAAW,EAAE,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,mEAAe,CAAC;iCAjBnG;CAoBsC;AAAH;mIAAtB,sBAAsB,mBAFlB,mEAAgB,aADrB,4DAAY,EAAE,0DAAW,EAAE,0DAAW,EAAE,8DAA+B,mEAAe;;;;;;;;;;;;ACjBlG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","file":"main.js","sourcesContent":["/* (ignored) */","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule, Routes } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { DistributionOnboardingPage } from './distribution-onboarding.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DistributionOnboardingPage\n  }\n]\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, RouterModule.forChild(routes), TranslateModule],\n  declarations: [DistributionOnboardingPage]\n})\nexport class DistributionOnboardingPageModule {}\n","/* (ignored) */","import { Injectable, NgZone, Inject } from '@angular/core'\nimport { ModalController, Platform } from '@ionic/angular'\nimport { ComponentRef, ModalOptions } from '@ionic/core'\nimport { PluginListenerHandle } from '@capacitor/core'\n\nimport { Warning, WarningModalPage } from '../../pages/warning-modal/warning-modal.page'\nimport { ErrorCategory, handleErrorLocal } from '../error-handler/error-handler.service'\nimport { NavigationService } from '../navigation/navigation.service'\nimport { SECURITY_UTILS_PLUGIN } from 'src/app/capacitor-plugins/injection-tokens'\nimport { SecurityUtilsPlugin } from 'src/app/capacitor-plugins/definitions'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DeviceService {\n  private screenCaptureStateChangedListeners: PluginListenerHandle[] = []\n  private screenshotTakenListeners: PluginListenerHandle[] = []\n\n  constructor(\n    private readonly ngZone: NgZone,\n    private readonly platform: Platform,\n    private readonly modalController: ModalController,\n    protected readonly navigationService: NavigationService,\n    @Inject(SECURITY_UTILS_PLUGIN) private readonly securityUtils: SecurityUtilsPlugin\n  ) {}\n\n  public enableScreenshotProtection(options?: { routeBack: string }): void {\n    this.setSecureWindow()\n    this.onScreenCaptureStateChanged((captured: boolean) => {\n      if (captured) {\n        this.presentModal(WarningModalPage, { errorType: Warning.SCREENSHOT }, () => {\n          options ? this.navigationService.routeBack(options.routeBack) : this.navigationService.back()\n        }).catch(handleErrorLocal(ErrorCategory.INIT_CHECK))\n      }\n    })\n    this.onScreenshotTaken(() => {\n      this.presentModal(WarningModalPage, { errorType: Warning.SCREENSHOT }, () => {\n        options ? this.navigationService.routeBack(options.routeBack) : this.navigationService.back()\n      }).catch(handleErrorLocal(ErrorCategory.INIT_CHECK))\n    })\n  }\n\n  public disableScreenshotProtection(): void {\n    this.clearSecureWindow()\n    this.removeScreenCaptureObservers()\n    this.removeScreenshotObservers()\n  }\n\n  private async presentModal(page: ComponentRef, properties: ModalOptions['componentProps'], callback: Function): Promise<void> {\n    const modal: HTMLIonModalElement = await this.modalController.create({\n      component: page,\n      componentProps: properties,\n      backdropDismiss: false\n    })\n\n    modal\n      .onDidDismiss()\n      .then(() => {\n        callback()\n      })\n      .catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n\n    modal\n      .present()\n      .then(() => {\n        console.log('check modal presented')\n      })\n      .catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n  }\n\n  public async checkForRoot(): Promise<boolean> {\n    if (this.platform.is('hybrid')) {\n      const result = await this.securityUtils.assessDeviceIntegrity()\n      return !result.value\n    } else {\n      console.warn('root detection skipped - no supported platform')\n      return false\n    }\n  }\n\n  public onScreenCaptureStateChanged(callback: (captured: boolean) => void): void {\n    if (this.platform.is('ios') && this.platform.is('hybrid')) {\n      const listener = this.securityUtils.addListener('screenCaptureStateChanged', (event) => {\n        this.ngZone.run(() => {\n          callback(event.captured)\n        })\n      })\n      this.screenCaptureStateChangedListeners.push(listener)\n    }\n  }\n\n  public setSecureWindow(): void {\n    if (this.platform.is('android') && this.platform.is('hybrid')) {\n      this.securityUtils.setWindowSecureFlag()\n    }\n  }\n\n  public clearSecureWindow(): void {\n    if (this.platform.is('android') && this.platform.is('hybrid')) {\n      this.securityUtils.clearWindowSecureFlag()\n    }\n  }\n\n  public removeScreenCaptureObservers(): void {\n    if (this.platform.is('ios') && this.platform.is('hybrid')) {\n      this.removeListeners(this.screenCaptureStateChangedListeners)\n      this.screenCaptureStateChangedListeners = []\n    }\n  }\n\n  public onScreenshotTaken(callback: () => void): void {\n    if (this.platform.is('ios') && this.platform.is('hybrid')) {\n      const listener = this.securityUtils.addListener('screenshotTaken', () => {\n        this.ngZone.run(() => {\n          callback()\n        })\n      })\n      this.screenCaptureStateChangedListeners.push(listener)\n    }\n  }\n\n  public removeScreenshotObservers(): void {\n    if (this.platform.is('ios') && this.platform.is('hybrid')) {\n      this.removeListeners(this.screenshotTakenListeners)\n      this.screenshotTakenListeners = []\n    }\n  }\n\n  public async checkForElectron(): Promise<boolean> {\n    return typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0\n  }\n\n  private removeListeners(listeners: PluginListenerHandle[]) {\n    listeners.forEach((listener) => {\n      listener.remove()\n    })\n  }\n}\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","import { ErrorHandler, Injectable } from '@angular/core'\n\nexport enum ErrorCategory {\n  CORDOVA_PLUGIN = 'cordova_plugin',\n  IONIC_MODAL = 'ionic_modal',\n  IONIC_ALERT = 'ionic_alert',\n  IONIC_LOADER = 'ionic_loader',\n  IONIC_NAVIGATION = 'navigation',\n  WALLET_SERVICE = 'wallet_service',\n  SCHEME_ROUTING = 'scheme_routing',\n  SECURE_STORAGE = 'secure_storage',\n  INIT_CHECK = 'init_check',\n  ENTROPY_COLLECTION = 'entropy_collection',\n  INTERACTION_SERVICE = 'interaction_service',\n  DEEPLINK_SERVICE = 'deeplink_service',\n  OTHER = 'other'\n}\n\nconst NUMBER_OF_ERRORS_CACHED = 100\n\nexport type ErrorHistoryObject = [\n  ErrorCategory, // category\n  string, // name\n  string, // message\n  string, // stack\n  number // date\n]\n\nexport class LocalErrorLogger {\n  private readonly errorHistoryKey: string = 'airgap-vault:ERROR_HISTORY'\n  constructor() {}\n\n  public async addLog(category: ErrorCategory, error: Error): Promise<void> {\n    const storedErrors: ErrorHistoryObject[] = (await this.getErrorHistory()).slice(0, NUMBER_OF_ERRORS_CACHED - 1)\n    storedErrors.unshift([category, error.name, error.message, error.stack, new Date().getTime()])\n    localStorage.setItem(this.errorHistoryKey, JSON.stringify(storedErrors))\n  }\n\n  public async getErrorHistory(): Promise<ErrorHistoryObject[]> {\n    try {\n      return JSON.parse(localStorage.getItem(this.errorHistoryKey)) || []\n    } catch (e) {\n      return []\n    }\n  }\n\n  public async getErrorHistoryFormatted(): Promise<string> {\n    const errorHistory = await this.getErrorHistory()\n\n    return errorHistory\n      .map(([category, name, message, stack, date]) => {\n        return `[${category}](${date})\\n${name}:\\n${message}\\n${stack}`\n      })\n      .join('\\n\\n')\n  }\n\n  public async clearAll() {\n    localStorage.setItem(this.errorHistoryKey, JSON.stringify([]))\n  }\n}\n\nconst errorLogger = new LocalErrorLogger()\n\ntype ErrorCallback = (error: Error & { originalError?: Error }) => void\n\nconst handleErrorLocal: (category: ErrorCategory) => ErrorCallback = (category?: ErrorCategory): ErrorCallback => {\n  return (error: Error & { originalError?: Error }): void => {\n    console.log('saving error locally, category', category)\n    errorLogger.addLog(category, error)\n  }\n}\n\nconst handleErrorIgnore: ErrorCallback = (error: { originalError?: Error }): void => {\n  console.log('ignoring error')\n  console.error(error.originalError || error)\n}\n\nexport { handleErrorIgnore, handleErrorLocal }\n\n@Injectable()\nexport class ErrorHandlerService extends ErrorHandler {\n  public handleError(error: Error): void {\n    super.handleError(error)\n    handleErrorLocal(ErrorCategory.OTHER)(error)\n  }\n}\n","/* (ignored) */","/* (ignored) */","import { ElementRef, Injectable, ViewChild } from '@angular/core'\nimport { Observable } from 'rxjs'\n\nimport workerJS from '../../../assets/workers/entropyCalculatorWorker'\nimport { Entropy, IEntropyGenerator } from '../entropy/IEntropyGenerator'\nconst blobURL = window.URL.createObjectURL(new Blob([workerJS]))\nconst entropyCalculatorWorker = new Worker(blobURL)\n\n@Injectable({ providedIn: 'root' })\nexport class CameraBrowserService implements IEntropyGenerator {\n  @ViewChild('cameraCanvas') public cameraCanvas: ElementRef\n  public canvasElement: HTMLCanvasElement\n\n  private readonly VIDEO_FREQUENCY = 2000\n\n  private collectedEntropyPercentage: number = 0\n\n  private handler: Function\n  private readonly entropyObservable: Observable<Entropy>\n\n  private cameraInterval: number\n\n  private videoElement: any\n  private videoStream: any\n\n  constructor() {\n    this.entropyObservable = Observable.create((observer) => {\n      entropyCalculatorWorker.onmessage = (event) => {\n        this.collectedEntropyPercentage += event.data.entropyMeasure\n        observer.next({ entropyHex: event.data.entropyHex })\n      }\n      this.handler = (buffer1) => {\n        const uintArray = this.arrayBufferFromUint8Array(buffer1)\n        entropyCalculatorWorker.postMessage(\n          {\n            entropyBuffer: uintArray\n          },\n          [uintArray]\n        )\n      }\n    })\n  }\n\n  public setTransparentElementsByTags(..._: string[]) {\n    // empty\n  }\n\n  public viewWillLeave() {\n    // empty\n  }\n\n  public viewWillEnter() {\n    // empty\n  }\n\n  public start(): Promise<void> {\n    return new Promise((resolve) => {\n      const constraints = {\n        video: true,\n        audio: false\n      }\n\n      this.collectedEntropyPercentage = 0\n\n      const video = this.videoElement.nativeElement\n\n      navigator.mediaDevices\n        .getUserMedia(constraints)\n        .then((stream) => {\n          this.videoStream = stream\n          video.srcObject = stream\n          video.play()\n          resolve()\n        })\n        .catch((err) => {\n          console.log('error in camera.brower.service', err)\n          resolve()\n        })\n\n      this.cameraInterval = window.setInterval(() => {\n        if (video.videoWidth === 0) {\n          return\n        }\n        const canvas = document.createElement('canvas')\n\n        const context = canvas.getContext('2d')\n\n        if (context) {\n          context.drawImage(video, 0, 0)\n          const buffer = context.getImageData(0, 0, video.videoWidth, video.videoHeight).data\n          this.handler(buffer)\n        } else {\n          console.error('context is undefined')\n        }\n      }, this.VIDEO_FREQUENCY / 5)\n    })\n  }\n\n  public stop(): Promise<any> {\n    if (this.cameraInterval) {\n      clearInterval(this.cameraInterval)\n    }\n\n    try {\n      this.videoStream.getTracks().forEach(function (track) {\n        track.stop()\n      })\n    } catch (e) {\n      console.log(e)\n    }\n\n    return Promise.resolve()\n  }\n\n  public getEntropyUpdateObservable(): Observable<Entropy> {\n    return this.entropyObservable\n  }\n\n  public getCollectedEntropyPercentage(): number {\n    return this.collectedEntropyPercentage\n  }\n\n  public setVideoElement(element) {\n    this.videoElement = element\n  }\n\n  private arrayBufferFromUint8Array(uintArray: Uint8ClampedArray) {\n    const buffer = new ArrayBuffer(uintArray.length)\n    const bufView = new Uint8Array(buffer)\n\n    for (let i = 0; i < uintArray.length; i++) {\n      bufView[i] = uintArray[i]\n    }\n\n    return buffer\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { Observable } from 'rxjs'\n\nimport workerJS from '../../../assets/workers/entropyCalculatorWorker'\nimport { Entropy, IEntropyGenerator } from '../entropy/IEntropyGenerator'\nconst blobURL = window.URL.createObjectURL(new Blob([workerJS]))\nconst entropyCalculatorWorker = new Worker(blobURL)\n\n@Injectable({ providedIn: 'root' })\nexport class AudioBrowserService implements IEntropyGenerator {\n  private readonly ENTROPY_SIZE = 4096\n\n  private handler\n\n  private readonly entropyObservable: Observable<Entropy>\n\n  private collectedEntropyPercentage: number = 0\n\n  private readonly microphoneStreamSource\n  private readonly scriptProcessor\n\n  constructor() {\n    this.entropyObservable = Observable.create((observer) => {\n      entropyCalculatorWorker.onmessage = (event) => {\n        this.collectedEntropyPercentage += event.data.entropyMeasure\n        observer.next({\n          entropyHex: event.data.entropyHex\n        })\n      }\n      this.handler = (event) => {\n        const data = event.inputBuffer.getChannelData(0)\n        const buffer1 = this.arrayBufferFromIntArray(data)\n        entropyCalculatorWorker.postMessage({ entropyBuffer: buffer1 }, [buffer1])\n      }\n    })\n\n    // polyfill getUserMedia\n    navigator.getUserMedia =\n      (navigator as any).getUserMedia ||\n      (navigator as any).webkitGetUserMedia ||\n      (navigator as any).mozGetUserMedia ||\n      (navigator as any).msGetUserMedia\n  }\n\n  public start(): Promise<void> {\n    this.collectedEntropyPercentage = 0\n\n    return new Promise((resolve) => {\n      navigator.getUserMedia(\n        { video: false, audio: true },\n        (stream) => {\n          const audioContext = new AudioContext()\n          const microphoneStreamSource = audioContext.createMediaStreamSource(stream)\n          const scriptProcessor = audioContext.createScriptProcessor(this.ENTROPY_SIZE, 1, 1)\n          scriptProcessor.onaudioprocess = (event) => {\n            this.handler(event)\n          }\n          microphoneStreamSource.connect(scriptProcessor)\n          scriptProcessor.connect(audioContext.destination)\n          resolve()\n        },\n        (err) => {\n          console.log('error in audio.browser.service:', err)\n          resolve()\n        }\n      )\n    })\n  }\n\n  public stop(): Promise<any> {\n    return new Promise((resolve) => {\n      if (this.microphoneStreamSource) {\n        this.microphoneStreamSource.stop()\n        this.microphoneStreamSource.disconnect()\n      }\n      if (this.scriptProcessor) {\n        this.scriptProcessor.stop()\n        this.scriptProcessor.disconnect()\n      }\n      resolve()\n    })\n  }\n\n  public getEntropyUpdateObservable(): Observable<Entropy> {\n    return this.entropyObservable\n  }\n\n  private arrayBufferFromIntArray(array: Float32Array) {\n    const buffer = new ArrayBuffer(array.length)\n    const bufView = new Float32Array(buffer)\n\n    for (let i = 0; i < array.length; i++) {\n      bufView[i] = array[i]\n    }\n\n    return buffer\n  }\n\n  public getCollectedEntropyPercentage(): number {\n    return this.collectedEntropyPercentage / 200\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n}\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { InjectionToken } from '@angular/core'\nimport { CameraPreviewPlugin, SaplingNativePlugin, SecurityUtilsPlugin } from './definitions'\n\nexport const CAMERA_PREVIEW_PLUGIN = new InjectionToken<CameraPreviewPlugin>('CameraPreviewPlugin')\nexport const SAPLING_PLUGIN = new InjectionToken<SaplingNativePlugin>('SaplingPlugin')\nexport const SECURITY_UTILS_PLUGIN = new InjectionToken<SecurityUtilsPlugin>('SecurityUtilsPlugin')\n","import { AirGapWallet } from '@airgap/coinlib-core'\nimport { UUID } from 'angular2-uuid'\nimport { fromSeed } from 'bip32'\n\nimport { toBoolean } from '../utils/utils'\n\nimport { BIPSigner } from './BIP39Signer'\nimport { Identifiable } from './identifiable'\n\nconst signer: BIPSigner = new BIPSigner()\n\n// TODO: Implement capabilities\n// enum MnemonicSecretCapability {\n//   ALLOW_SHOW_SECRET = 'ALLOW_SHOW_SECRET',\n//   ALLOW_SOCIAL_RECOVERY = 'ALLOW_SOCIAL_RECOVERY',\n//   ALLOW_BIP85 = 'ALLOW_BIP85',\n// }\n\nexport enum SecretType {\n  MNEMONIC = 'mnemonic'\n  //   TWOFACTOR = 'twofactor',\n  //   TEXT = 'text',\n  //   SSH = 'ssh',\n  //   PGP = 'pgp'\n}\n\n// interface SecretAction {\n//   type: SecretType\n//   key: string\n//   title: string\n//   description: string\n//   icon: string\n//   canBeDisabled: boolean\n// }\n\nabstract class Secret implements Identifiable {\n  public id: string = UUID.UUID()\n  public label: string\n\n  public secretHex: string\n  public isParanoia: boolean\n\n  // public isDuress: boolean\n\n  public type: SecretType\n\n  // public actions: SecretAction[] = []\n\n  public getIdentifier(): string {\n    return this.id\n  }\n\n  public flushSecret(): void {\n    delete this.secretHex\n  }\n}\n\nexport class MnemonicSecret extends Secret {\n  public hasSocialRecovery: boolean\n  public hasRecoveryKey: boolean\n\n  public fingerprint?: string\n\n  public wallets: AirGapWallet[]\n\n  private readonly twofactor: string\n\n  constructor(seed: string | null, label: string = '', isParanoia: boolean = false, hasRecoveryKey: boolean = false) {\n    super()\n\n    this.label = label\n    this.isParanoia = isParanoia\n    this.hasRecoveryKey = hasRecoveryKey\n    // this.isDuress = false\n    this.type = SecretType.MNEMONIC\n\n    if (seed !== null) {\n      this.secretHex = this.getEntropyFromMnemonic(seed)\n      this.fingerprint = this.getFingerprintFromMnemonic(seed)\n    }\n  }\n\n  public recoverMnemonicFromHex(hex: string): string {\n    return signer.entropyToMnemonic(hex)\n  }\n\n  public hasTwofactor(): boolean {\n    return toBoolean(this.twofactor) && this.twofactor.length > 0\n  }\n\n  public static generateSocialRecover(secret: string, numberOfShares: number, threshold: number): string[] {\n    return signer.generateSocialRecover(secret, numberOfShares, threshold)\n  }\n\n  public static recoverSecretFromShares(shares: string[]): string {\n    return signer.recoverKey(shares)\n  }\n\n  public static init(obj: MnemonicSecret): MnemonicSecret {\n    return Object.assign(new MnemonicSecret(null, obj.label), obj)\n  }\n\n  private getEntropyFromMnemonic(mnemonic: string): string {\n    return this.isMnemonic(mnemonic) ? signer.mnemonicToEntropy(mnemonic) : mnemonic\n  }\n\n  private getMnemonicFromEntropy(entropy: string): string {\n    return this.isMnemonic(entropy) ? entropy : signer.entropyToMnemonic(entropy)\n  }\n\n  private getFingerprintFromMnemonic(entropy: string): string {\n    const mnemonic: string = this.getMnemonicFromEntropy(entropy)\n    const seed: Buffer = signer.mnemonicToSeedSync(mnemonic)\n\n    return fromSeed(seed).fingerprint.toString('hex')\n  }\n\n  private isMnemonic(data: string): boolean {\n    // TODO: better check whether this is a mnemonic (validate)\n    return data && data.indexOf(' ') > -1\n  }\n}\n","export interface ExposedPromise<T> {\n  promise: Promise<T>\n  resolve(value?: T | PromiseLike<T>): void\n  reject(reason?: unknown): void\n}\n\nfunction notInitialized() {\n  throw new Error('ExposedPromise not initialized yet.')\n}\n\nexport function exposedPromise<T>(): ExposedPromise<T> {\n  let resolve: (value?: T | PromiseLike<T>) => void = notInitialized\n  let reject: (reason?: unknown) => void = notInitialized\n\n  // tslint:disable-next-line:promise-must-complete\n  const promise: Promise<T> = new Promise<T>((innerResolve, innerReject) => {\n    resolve = innerResolve\n    reject = innerReject\n  })\n\n  return { promise, resolve, reject }\n}\n","import { Component } from '@angular/core'\nimport { ModalController, Platform } from '@ionic/angular'\n\nimport { ErrorCategory, handleErrorLocal } from '../../services/error-handler/error-handler.service'\nimport { VaultStorageKey, VaultStorageService } from '../../services/storage/storage.service'\n\ndeclare let cordova: any\n\n@Component({\n  selector: 'airgap-introduction',\n  templateUrl: './introduction.page.html',\n  styleUrls: ['./introduction.page.scss']\n})\nexport class IntroductionPage {\n  public security: string = 'highest'\n\n  constructor(\n    private readonly modalController: ModalController,\n    private readonly platform: Platform,\n    private readonly storageService: VaultStorageService\n  ) {}\n\n  public accept() {\n    this.storageService\n      .set(VaultStorageKey.INTRODUCTION_INITIAL, true)\n      .then(() => {\n        this.modalController.dismiss().catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n      })\n      .catch(handleErrorLocal(ErrorCategory.SECURE_STORAGE))\n  }\n\n  public downloadClient() {\n    this.openUrl('https://github.com/airgap-it')\n  }\n\n  public downloadApp() {\n    // This should open App Store and not InAppBrowser\n    if (this.platform.is('android')) {\n      window.open('https://play.google.com/store/apps/details?id=it.airgap.wallet')\n    } else if (this.platform.is('ios')) {\n      window.open('itms-apps://itunes.apple.com/app/id1420996542') // AirGap Wallet\n    }\n  }\n\n  private openUrl(url: string) {\n    if (this.platform.is('ios') || this.platform.is('android')) {\n      cordova.InAppBrowser.open(url, '_system', 'location=true')\n    } else {\n      window.open(url, '_blank')\n    }\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-title>{{ 'introduction.title' | translate }}</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <ion-segment [(ngModel)]=\"security\">\n    <ion-segment-button value=\"highest\">{{ 'introduction.highest.label' | translate }}</ion-segment-button>\n    <ion-segment-button value=\"medium\">{{ 'introduction.medium.label' | translate }}</ion-segment-button>\n  </ion-segment>\n\n  <ng-container *ngIf=\"security === 'highest'\">\n    <ion-row><p [innerHTML]=\"'introduction.highest.text' | translate\"></p></ion-row>\n\n    <ion-row class=\"ion-align-items-center\">\n      <ion-col size=\"5\"><img src=\"assets/img/AirGap_Onboarding_Vault.svg\" /></ion-col>\n      <ion-col size=\"7\">\n        <h5>{{ 'introduction.vault.heading' | translate }}</h5>\n        <p [innerHTML]=\"'introduction.vault.text' | translate\"></p>\n      </ion-col>\n    </ion-row>\n\n    <ion-row class=\"ion-padding-vertical ion-align-items-center\">\n      <ion-col size=\"5\" class=\"d-flex ion-justify-content-center\"><img class=\"connector--img\" src=\"assets/img/qrcode.svg\" /></ion-col>\n      <ion-col size=\"7\">\n        <strong>{{ 'introduction.communication.highest_text' | translate }}</strong>\n      </ion-col>\n    </ion-row>\n\n    <ion-row class=\"ion-padding-top ion-align-items-center\">\n      <ion-col size=\"5\"><img src=\"assets/img/AirGap_Onboarding_Wallet.svg\" /></ion-col>\n      <ion-col size=\"7\">\n        <h5>{{ 'introduction.wallet.heading' | translate }}</h5>\n        <p>{{ 'introduction.wallet.text' | translate }}</p>\n      </ion-col>\n    </ion-row>\n  </ng-container>\n\n  <ng-container *ngIf=\"security === 'medium'\">\n    <ion-row><p [innerHTML]=\"'introduction.medium.text' | translate\"></p></ion-row>\n\n    <ion-row class=\"ion-align-items-center\">\n      <ion-col size=\"5\"><img src=\"assets/img/AirGap_Onboarding_Vault.svg\" /></ion-col>\n      <ion-col size=\"7\">\n        <h5>{{ 'introduction.vault.heading' | translate }}</h5>\n        <p [innerHTML]=\"'introduction.vault.text' | translate\"></p>\n      </ion-col>\n    </ion-row>\n\n    <ion-row class=\"ion-padding-vertical ion-align-items-center\">\n      <ion-col size=\"5\" class=\"d-flex ion-justify-content-center\"><img class=\"connector--img\" src=\"assets/img/clone.svg\" /></ion-col>\n      <ion-col size=\"7\">\n        <strong>{{ 'introduction.communication.medium_text' | translate }}</strong>\n      </ion-col>\n    </ion-row>\n\n    <ion-row class=\"ion-padding-top ion-align-items-center\">\n      <ion-col size=\"5\"><img src=\"assets/img/AirGap_Onboarding_Wallet.svg\" /></ion-col>\n      <ion-col size=\"7\">\n        <h5>{{ 'introduction.wallet.heading' | translate }}</h5>\n        <p>{{ 'introduction.wallet.text' | translate }}</p>\n      </ion-col>\n    </ion-row>\n  </ng-container>\n\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button shape=\"round\" color=\"light\" (click)=\"downloadApp()\">{{ 'introduction.wallet_install_label' | translate }}</ion-button>\n    <ion-button shape=\"round\" color=\"primary\" (click)=\"accept()\">{{ 'introduction.continue_label' | translate }}</ion-button>\n  </ion-fab>\n</ion-content>\n","import { Component, ViewChild } from '@angular/core'\nimport { IonSlides, ModalController } from '@ionic/angular'\n\nimport { ErrorCategory, handleErrorLocal } from '../../services/error-handler/error-handler.service'\nimport { VaultStorageKey, VaultStorageService } from '../../services/storage/storage.service'\n\n@Component({\n  selector: 'airgap-distribution-onboarding',\n  templateUrl: './distribution-onboarding.page.html',\n  styleUrls: ['./distribution-onboarding.page.scss']\n})\nexport class DistributionOnboardingPage {\n  @ViewChild(IonSlides, { static: true })\n  public slides: IonSlides\n\n  constructor(private readonly modalController: ModalController, private readonly storageService: VaultStorageService) {}\n\n  public async next() {\n    this.slides.slideNext()\n  }\n\n  public async accept() {\n    await this.storageService.set(VaultStorageKey.DISCLAIMER_ELECTRON, true)\n    this.modalController.dismiss().catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n  }\n}\n","<ion-content class=\"ion-padding\">\n  <ion-slides>\n    <ion-slide>\n      <ion-row class=\"ion-padding-vertical ion-text-left\">\n        <h1 [innerHTML]=\"'distribution-onboarding.ask-permission.heading' | translate\"></h1>\n\n        <p>{{ 'distribution-onboarding.ask-permission.text' | translate }}</p>\n      </ion-row>\n\n      <ion-footer class=\"ion-no-border\">\n        <ion-toolbar class=\"ion-padding\" transparent>\n          <ion-row class=\"ion-justify-content-end\">\n            <ion-button color=\"primary\" shape=\"round\" (click)=\"next()\">{{ 'next' | translate }}</ion-button>\n          </ion-row>\n        </ion-toolbar>\n      </ion-footer>\n    </ion-slide>\n    <ion-slide>\n      <ion-row class=\"ion-padding-vertical ion-text-left\">\n        <h1 [innerHTML]=\"'distribution-onboarding.no-vm.heading' | translate\"></h1>\n\n        <p>{{ 'distribution-onboarding.no-vm.text' | translate }}</p>\n      </ion-row>\n\n      <ion-footer class=\"ion-no-border\">\n        <ion-toolbar class=\"ion-padding\" transparent>\n          <ion-row class=\"ion-justify-content-end\">\n            <ion-button color=\"primary\" shape=\"round\" (click)=\"accept()\">\n              {{ 'distribution-onboarding.understood_label' | translate }}\n            </ion-button>\n          </ion-row>\n        </ion-toolbar>\n      </ion-footer>\n    </ion-slide>\n  </ion-slides>\n</ion-content>\n","import { BaseStorage } from '@airgap/angular-core'\nimport { Injectable } from '@angular/core'\nimport { Storage } from '@ionic/storage'\n\nexport enum InteractionType {\n  UNDETERMINED = 'UNDETERMINED',\n  ALWAYS_ASK = 'ALWAYS_ASK',\n  DEEPLINK = 'DEEPLINK',\n  QR_CODE = 'QR_CODE'\n}\n\nexport enum InstallationType {\n  UNDETERMINED = 'UNDETERMINED',\n  ONLINE = 'ONLINE',\n  OFFLINE = 'OFFLINE'\n}\n\nexport enum VaultStorageKey {\n  DISCLAIMER_GENERATE_INITIAL = 'DISCLAIMER_GENERATE_INITIAL',\n  DISCLAIMER_INITIAL = 'DISCLAIMER_INITIAL',\n  DISCLAIMER_HIDE_LOCAL_AUTH_ONBOARDING = 'DISCLAIMER_HIDE_LOCAL_AUTH_ONBOARDING',\n  DISCLAIMER_ELECTRON = 'DISCLAIMER_ELECTRON',\n  INTRODUCTION_INITIAL = 'INTRODUCTION_INITIAL',\n  ADVANCED_MODE = 'ADVANCED_MODE',\n  INTERACTION_TYPE = 'INTERACTION_TYPE',\n  INSTALLATION_TYPE = 'INSTALLATION_TYPE',\n  AIRGAP_SECRET_LIST = 'airgap-secret-list'\n}\n\ninterface VaultStorageKeyReturnType {\n  [VaultStorageKey.DISCLAIMER_GENERATE_INITIAL]: boolean\n  [VaultStorageKey.DISCLAIMER_INITIAL]: boolean\n  [VaultStorageKey.DISCLAIMER_HIDE_LOCAL_AUTH_ONBOARDING]: boolean\n  [VaultStorageKey.DISCLAIMER_ELECTRON]: boolean\n  [VaultStorageKey.INTRODUCTION_INITIAL]: boolean\n  [VaultStorageKey.ADVANCED_MODE]: boolean\n  [VaultStorageKey.INTERACTION_TYPE]: InteractionType\n  [VaultStorageKey.INSTALLATION_TYPE]: InstallationType\n  [VaultStorageKey.AIRGAP_SECRET_LIST]: unknown\n}\n\ntype VaultStorageKeyReturnDefaults = { [key in VaultStorageKey]: VaultStorageKeyReturnType[key] }\n\nconst defaultValues: VaultStorageKeyReturnDefaults = {\n  [VaultStorageKey.DISCLAIMER_GENERATE_INITIAL]: false,\n  [VaultStorageKey.DISCLAIMER_INITIAL]: false,\n  [VaultStorageKey.DISCLAIMER_HIDE_LOCAL_AUTH_ONBOARDING]: false,\n  [VaultStorageKey.DISCLAIMER_ELECTRON]: false,\n  [VaultStorageKey.INTRODUCTION_INITIAL]: false,\n  [VaultStorageKey.ADVANCED_MODE]: false,\n  [VaultStorageKey.INTERACTION_TYPE]: InteractionType.UNDETERMINED,\n  [VaultStorageKey.INSTALLATION_TYPE]: InstallationType.UNDETERMINED,\n  [VaultStorageKey.AIRGAP_SECRET_LIST]: []\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VaultStorageService extends BaseStorage<VaultStorageKey, VaultStorageKeyReturnType> {\n  constructor(storage: Storage) {\n    super(storage, defaultValues)\n  }\n\n  wipe() {\n    return this.storage.clear()\n  }\n}\n","import { TezosSaplingExternalMethodProvider, TezosSaplingTransaction } from '@airgap/coinlib-core'\nimport { SaplingPartialOutputDescription, SaplingUnsignedSpendDescription } from '@airgap/sapling-wasm'\nimport { Inject, Injectable } from '@angular/core'\nimport { Platform } from '@ionic/angular'\n\nimport { SAPLING_PLUGIN } from '../..//capacitor-plugins/injection-tokens'\nimport { SaplingNativePlugin } from '../../capacitor-plugins/definitions'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SaplingNativeService {\n  constructor(@Inject(SAPLING_PLUGIN) private readonly sapling: SaplingNativePlugin, private readonly platform: Platform) {}\n\n  public async createExternalMethodProvider(): Promise<TezosSaplingExternalMethodProvider | undefined> {\n    const isSupported = this.platform.is('capacitor') && !this.platform.is('electron') && (await this.sapling.isSupported()).isSupported\n\n    return isSupported\n      ? {\n          initParameters: this.initParameters(this.sapling),\n          withProvingContext: this.withProvingContext(this.sapling),\n          prepareSpendDescription: this.prepareSpendDescription(this.sapling),\n          preparePartialOutputDescription: this.preparePartialOutputDescription(this.sapling),\n          createBindingSignature: this.createBindingSignature(this.sapling)\n        }\n      : undefined\n  }\n\n  private initParameters(saplingPlugin: SaplingNativePlugin): TezosSaplingExternalMethodProvider['initParameters'] {\n    return async (_spendParams: Buffer, _outputParams: Buffer): Promise<void> => {\n      return saplingPlugin.initParameters()\n    }\n  }\n\n  private withProvingContext(saplingPlugin: SaplingNativePlugin): TezosSaplingExternalMethodProvider['withProvingContext'] {\n    return async (action: (context: number) => Promise<TezosSaplingTransaction>): Promise<TezosSaplingTransaction> => {\n      const { context } = await saplingPlugin.initProvingContext()\n      const transaction = await action(parseInt(context))\n      await saplingPlugin.dropProvingContext({ context })\n\n      return transaction\n    }\n  }\n\n  private prepareSpendDescription(saplingPlugin: SaplingNativePlugin): TezosSaplingExternalMethodProvider['prepareSpendDescription'] {\n    return async (\n      context: number,\n      spendingKey: Buffer,\n      address: Buffer,\n      rcm: string,\n      ar: Buffer,\n      value: string,\n      root: string,\n      merklePath: string\n    ): Promise<SaplingUnsignedSpendDescription> => {\n      const { spendDescription: spendDescriptionHex } = await saplingPlugin.prepareSpendDescription({\n        context: context.toString(),\n        spendingKey: spendingKey.toString('hex'),\n        address: address.toString('hex'),\n        rcm,\n        ar: ar.toString('hex'),\n        value,\n        root,\n        merklePath\n      })\n\n      const spendDescription: Buffer = Buffer.from(spendDescriptionHex, 'hex')\n\n      return {\n        cv: spendDescription.slice(0, 32) /* 32 bytes */,\n        rt: spendDescription.slice(32, 64) /* 32 bytes */,\n        nf: spendDescription.slice(64, 96) /* 32 bytes */,\n        rk: spendDescription.slice(96, 128) /* 32 bytes */,\n        proof: spendDescription.slice(128, 320) /* 48 + 96 + 48 bytes */\n      }\n    }\n  }\n\n  private preparePartialOutputDescription(\n    saplingPlugin: SaplingNativePlugin\n  ): TezosSaplingExternalMethodProvider['preparePartialOutputDescription'] {\n    return async (context: number, address: Buffer, rcm: Buffer, esk: Buffer, value: string): Promise<SaplingPartialOutputDescription> => {\n      const { outputDescription: outputDescriptionHex } = await saplingPlugin.preparePartialOutputDescription({\n        context: context.toString(),\n        address: address.toString('hex'),\n        rcm: rcm.toString('hex'),\n        esk: esk.toString('hex'),\n        value\n      })\n\n      const outputDescription: Buffer = Buffer.from(outputDescriptionHex, 'hex')\n\n      return {\n        cv: outputDescription.slice(0, 32) /* 32 bytes */,\n        cm: outputDescription.slice(32, 64) /* 32 bytes */,\n        proof: outputDescription.slice(64, 256) /* 48 + 96 + 48 bytes */\n      }\n    }\n  }\n\n  private createBindingSignature(saplingPlugin: SaplingNativePlugin): TezosSaplingExternalMethodProvider['createBindingSignature'] {\n    return async (context: number, balance: string, sighash: Buffer): Promise<Buffer> => {\n      const { bindingSignature } = await saplingPlugin.createBindingSignature({\n        context: context.toString(),\n        balance,\n        sighash: sighash.toString('hex')\n      })\n\n      return Buffer.from(bindingSignature, 'hex')\n    }\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { sha3_256 } from 'js-sha3'\nimport { Observable, Observer, Subscriber, Subscription } from 'rxjs'\n\nimport hashWorkerJS from '../../../assets/workers/hashWorker'\n\nimport { ErrorCategory, handleErrorLocal } from './../error-handler/error-handler.service'\nimport { IEntropyGenerator } from './IEntropyGenerator'\nconst blobURL: string = window.URL.createObjectURL(new Blob([hashWorkerJS]))\nconst hashWorker: Worker = new Worker(blobURL)\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EntropyService {\n  public ENTROPY_SIZE: number = 4096\n\n  public entropyGenerators: IEntropyGenerator[] = []\n  public entropySubscriptions: Subscription[] = []\n\n  private readonly entropyUpdateObservable: Observable<void>\n  private entropyUpdateObserver: Observer<void>\n\n  constructor() {\n    this.entropyUpdateObservable = new Observable((observer: Subscriber<void>): void => {\n      this.entropyUpdateObserver = observer\n    })\n  }\n\n  public addEntropySource(entropyGenerator: IEntropyGenerator): void {\n    this.entropyGenerators.push(entropyGenerator)\n  }\n\n  public getEntropyUpdateObservable(): Observable<void> {\n    return this.entropyUpdateObservable\n  }\n\n  public startEntropyCollection(): Promise<void[]> {\n    const promises: Promise<void>[] = []\n    const secureRandomArray: Uint8Array = new Uint8Array(this.ENTROPY_SIZE)\n    window.crypto.getRandomValues(secureRandomArray)\n\n    hashWorker.postMessage({ call: 'init', secureRandom: Array.from(secureRandomArray) })\n\n    for (const generator of this.entropyGenerators) {\n      promises.push(\n        generator\n          .start()\n          .then(() => {\n            const entropySubscription = generator.getEntropyUpdateObservable().subscribe((result) => {\n              try {\n                hashWorker.postMessage({ entropyHex: result.entropyHex, call: 'update' })\n              } catch (error) {\n                console.warn(error)\n              }\n              if (this.entropyUpdateObserver) {\n                this.entropyUpdateObserver.next(void 0)\n              } else {\n                console.warn('entropyUpdateObserver is undefined!')\n              }\n            })\n            this.entropySubscriptions.push(entropySubscription)\n\n            return\n          })\n          .catch((error) => {\n            console.warn('generator start error', error)\n          })\n      )\n    }\n\n    return Promise.all(promises)\n  }\n\n  public stopEntropyCollection(): Promise<void> {\n    const promises: Promise<void>[] = []\n\n    return new Promise((resolve) => {\n      // clear collection interval\n      for (let i = 0; i < this.entropySubscriptions.length; i++) {\n        this.entropySubscriptions[i].unsubscribe()\n      }\n\n      this.entropySubscriptions = []\n\n      // stop entropy sources\n      for (let i = 0; i < this.entropyGenerators.length; i++) {\n        console.log('stopping entropy source...')\n        promises.push(this.entropyGenerators[i].stop())\n      }\n\n      this.entropyGenerators = []\n\n      Promise.all(promises)\n        .then(() => {\n          resolve()\n        })\n        .catch(handleErrorLocal(ErrorCategory.ENTROPY_COLLECTION))\n    })\n  }\n\n  public getEntropyAsHex(): Promise<string> {\n    return new Promise((resolve) => {\n      hashWorker.onmessage = (event) => {\n        const secureRandomArray = new Uint8Array(this.ENTROPY_SIZE)\n        window.crypto.getRandomValues(secureRandomArray)\n\n        const hash = sha3_256.create()\n        hash.update(event.data.hash)\n        hash.update(secureRandomArray)\n\n        resolve(hash.hex())\n      }\n\n      hashWorker.postMessage({ call: 'digest' })\n    })\n  }\n}\n","import { Platform } from '@ionic/angular'\n\nimport { SecureStorageServiceMock } from './secure-storage.mock'\nimport { SecureStorageService } from './secure-storage.service'\nimport { Injectable, Inject } from '@angular/core'\nimport { SECURITY_UTILS_PLUGIN } from 'src/app/capacitor-plugins/injection-tokens'\nimport { SecurityUtilsPlugin } from 'src/app/capacitor-plugins/definitions'\n\n@Injectable()\nexport class SecureStorageFactoryDepHolder {\n  constructor(readonly platform: Platform, @Inject(SECURITY_UTILS_PLUGIN) readonly securityUtils: SecurityUtilsPlugin) {}\n}\n\nexport function SecureStorageFactory(depHolder: SecureStorageFactoryDepHolder) {\n  if (depHolder.platform.is('hybrid')) {\n    return new SecureStorageService(depHolder.securityUtils)\n  } else {\n    return new SecureStorageServiceMock()\n  }\n}\n","import { Component } from '@angular/core'\nimport { ModalController } from '@ionic/angular'\n\nimport { ErrorCategory, handleErrorLocal } from '../../services/error-handler/error-handler.service'\nimport { VaultStorageKey, VaultStorageService } from '../../services/storage/storage.service'\n\n@Component({\n  selector: 'airgap-local-authentication-onboarding',\n  templateUrl: './local-authentication-onboarding.page.html',\n  styleUrls: ['./local-authentication-onboarding.page.scss']\n})\nexport class LocalAuthenticationOnboardingPage {\n  constructor(public modalController: ModalController, private readonly storageService: VaultStorageService) {}\n\n  public async authenticate(): Promise<void> {\n    await this.storageService.set(VaultStorageKey.DISCLAIMER_HIDE_LOCAL_AUTH_ONBOARDING, true)\n    this.modalController.dismiss({ authenticated: true }).catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n  }\n}\n","<ion-header class=\"ion-no-border\"><ion-toolbar></ion-toolbar></ion-header>\n\n<ion-content class=\"ion-padding\">\n  <h1 classs=\"ion-no-margin\" [innerHTML]=\"'local-authentication-onboarding.heading' | translate\"></h1>\n\n  <ion-row class=\"ion-justify-content-center ion-padding-vertical\">\n    <img class=\"ion-padding-vertical\" src=\"assets/img/local_authentication_onboarding.svg\" />\n  </ion-row>\n\n  <p>{{ 'local-authentication-onboarding.text' | translate }}</p>\n\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button default color=\"primary\" shape=\"round\" (click)=\"authenticate()\">\n      {{ 'local-authentication-onboarding.authenticate_label' | translate }}\n    </ion-button>\n  </ion-fab>\n</ion-content>\n","// self.importScripts('sha3.min.js') replaced to work in blob\nconst entropyCalculatorWorkerJS = `!function(){\"use strict\";function t(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function e(e,r,n){t.call(this,e,r,n)}var r=\"input is invalid type\",n=\"object\"==typeof window,i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&\"object\"==typeof self;!i.JS_SHA3_NO_NODE_JS&&\"object\"==typeof process&&process.versions&&process.versions.node?i=global:o&&(i=self);var s=!i.JS_SHA3_NO_COMMON_JS&&\"object\"==typeof module&&module.exports,a=\"function\"==typeof define&&define.amd,u=!i.JS_SHA3_NO_ARRAY_BUFFER&&\"undefined\"!=typeof ArrayBuffer,f=\"0123456789abcdef\".split(\"\"),c=[4,1024,262144,67108864],h=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],d=[224,256,384,512],l=[128,256],y=[\"hex\",\"buffer\",\"arrayBuffer\",\"array\",\"digest\"],b={128:168,256:136};!i.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}),!u||!i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return\"object\"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var A=function(e,r,n){return function(i){return new t(e,r,e).update(i)[n]()}},v=function(e,r,n){return function(i,o){return new t(e,r,o).update(i)[n]()}},B=function(t,e,r){return function(e,n,i,o){return S[\"cshake\"+t].update(e,n,i,o)[r]()}},g=function(t,e,r){return function(e,n,i,o){return S[\"kmac\"+t].update(e,n,i,o)[r]()}},w=function(t,e,r,n){for(var i=0;i<y.length;++i){var o=y[i];t[o]=e(r,n,o)}return t},_=function(e,r){var n=A(e,r,\"hex\");return n.create=function(){return new t(e,r,e)},n.update=function(t){return n.create().update(t)},w(n,A,e,r)},k=[{name:\"keccak\",padding:[1,256,65536,16777216],bits:d,createMethod:_},{name:\"sha3\",padding:[6,1536,393216,100663296],bits:d,createMethod:_},{name:\"shake\",padding:[31,7936,2031616,520093696],bits:l,createMethod:function(e,r){var n=v(e,r,\"hex\");return n.create=function(n){return new t(e,r,n)},n.update=function(t,e){return n.create(e).update(t)},w(n,v,e,r)}},{name:\"cshake\",padding:c,bits:l,createMethod:function(e,r){var n=b[e],i=B(e,0,\"hex\");return i.create=function(i,o,s){return o||s?new t(e,r,i).bytepad([o,s],n):S[\"shake\"+e].create(i)},i.update=function(t,e,r,n){return i.create(e,r,n).update(t)},w(i,B,e,r)}},{name:\"kmac\",padding:c,bits:l,createMethod:function(t,r){var n=b[t],i=g(t,0,\"hex\");return i.create=function(i,o,s){return new e(t,r,o).bytepad([\"KMAC\",s],n).bytepad([i],n)},i.update=function(t,e,r,n){return i.create(t,r,n).update(e)},w(i,g,t,r)}}],S={},C=[],x=0;x<k.length;++x)for(var m=k[x],O=m.bits,z=0;z<O.length;++z){var N=m.name+\"_\"+O[z];if(C.push(N),S[N]=m.createMethod(O[z],m.padding),\"sha3\"!==m.name){var j=m.name+O[z];C.push(j),S[j]=S[N]}}t.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if(\"string\"!==n){if(\"object\"!==n)throw r;if(null===t)throw r;if(u&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||u&&ArrayBuffer.isView(t)))throw r;e=!0}for(var i,o,s=this.blocks,a=this.byteCount,f=t.length,c=this.blockCount,p=0,d=this.s;p<f;){if(this.reset)for(this.reset=!1,s[0]=this.block,i=1;i<c+1;++i)s[i]=0;if(e)for(i=this.start;p<f&&i<a;++p)s[i>>2]|=t[p]<<h[3&i++];else for(i=this.start;p<f&&i<a;++p)(o=t.charCodeAt(p))<128?s[i>>2]|=o<<h[3&i++]:o<2048?(s[i>>2]|=(192|o>>6)<<h[3&i++],s[i>>2]|=(128|63&o)<<h[3&i++]):o<55296||o>=57344?(s[i>>2]|=(224|o>>12)<<h[3&i++],s[i>>2]|=(128|o>>6&63)<<h[3&i++],s[i>>2]|=(128|63&o)<<h[3&i++]):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++p)),s[i>>2]|=(240|o>>18)<<h[3&i++],s[i>>2]|=(128|o>>12&63)<<h[3&i++],s[i>>2]|=(128|o>>6&63)<<h[3&i++],s[i>>2]|=(128|63&o)<<h[3&i++]);if(this.lastByteIndex=i,i>=a){for(this.start=i-a,this.block=s[c],i=0;i<c;++i)d[i]^=s[i];J(d),this.reset=!0}else this.start=i}return this}},t.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},t.prototype.encodeString=function(t){var e,n=typeof t;if(\"string\"!==n){if(\"object\"!==n)throw r;if(null===t)throw r;if(u&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||u&&ArrayBuffer.isView(t)))throw r;e=!0}var i=0,o=t.length;if(e)i=o;else for(var s=0;s<t.length;++s){var a=t.charCodeAt(s);a<128?i+=1:a<2048?i+=2:a<55296||a>=57344?i+=3:(a=65536+((1023&a)<<10|1023&t.charCodeAt(++s)),i+=4)}return i+=this.encode(8*i),this.update(t),i},t.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,o=[];return o.length=i,this.update(o),this},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];J(n)}},t.prototype.toString=t.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=\"\";s<n;){for(o=0;o<e&&s<n;++o,++s)t=r[o],a+=f[t>>4&15]+f[15&t]+f[t>>12&15]+f[t>>8&15]+f[t>>20&15]+f[t>>16&15]+f[t>>28&15]+f[t>>24&15];s%e==0&&(J(r),o=0)}return i&&(t=r[o],a+=f[t>>4&15]+f[15&t],i>1&&(a+=f[t>>12&15]+f[t>>8&15]),i>2&&(a+=f[t>>20&15]+f[t>>16&15])),a},t.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(t);s<n;){for(o=0;o<e&&s<n;++o,++s)u[s]=r[o];s%e==0&&J(r)}return i&&(u[o]=r[o],t=t.slice(0,a)),t},t.prototype.buffer=t.prototype.arrayBuffer,t.prototype.digest=t.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,u=[];a<i;){for(s=0;s<r&&a<i;++s,++a)t=a<<2,e=n[s],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;a%r==0&&J(n)}return o&&(t=a<<2,e=n[s],u[t]=255&e,o>1&&(u[t+1]=e>>8&255),o>2&&(u[t+2]=e>>16&255)),u},(e.prototype=new t).finalize=function(){return this.encode(this.outputBits,!0),t.prototype.finalize.call(this)};var J=function(t){var e,r,n,i,o,s,a,u,f,c,h,d,l,y,b,A,v,B,g,w,_,k,S,C,x,m,O,z,N,j,J,M,H,I,R,E,U,V,F,D,W,Y,K,q,G,L,P,Q,T,X,Z,$,tt,et,rt,nt,it,ot,st,at,ut,ft,ct;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],f=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],h=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|a>>>31),r=(l=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(u<<1|f>>>31),r=o^(f<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(c<<1|h>>>31),r=a^(h<<1|c>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(d<<1|l>>>31),r=f^(l<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=c^(i<<1|o>>>31),r=h^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,y=t[0],b=t[1],L=t[11]<<4|t[10]>>>28,P=t[10]<<4|t[11]>>>28,z=t[20]<<3|t[21]>>>29,N=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,Y=t[40]<<18|t[41]>>>14,K=t[41]<<18|t[40]>>>14,I=t[2]<<1|t[3]>>>31,R=t[3]<<1|t[2]>>>31,A=t[13]<<12|t[12]>>>20,v=t[12]<<12|t[13]>>>20,Q=t[22]<<10|t[23]>>>22,T=t[23]<<10|t[22]>>>22,j=t[33]<<13|t[32]>>>19,J=t[32]<<13|t[33]>>>19,ft=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,E=t[14]<<6|t[15]>>>26,U=t[15]<<6|t[14]>>>26,B=t[25]<<11|t[24]>>>21,g=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,Z=t[35]<<15|t[34]>>>17,M=t[45]<<29|t[44]>>>3,H=t[44]<<29|t[45]>>>3,C=t[6]<<28|t[7]>>>4,x=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,V=t[26]<<25|t[27]>>>7,F=t[27]<<25|t[26]>>>7,w=t[36]<<21|t[37]>>>11,_=t[37]<<21|t[36]>>>11,$=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,q=t[8]<<27|t[9]>>>5,G=t[9]<<27|t[8]>>>5,m=t[18]<<20|t[19]>>>12,O=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,D=t[38]<<8|t[39]>>>24,W=t[39]<<8|t[38]>>>24,k=t[48]<<14|t[49]>>>18,S=t[49]<<14|t[48]>>>18,t[0]=y^~A&B,t[1]=b^~v&g,t[10]=C^~m&z,t[11]=x^~O&N,t[20]=I^~E&V,t[21]=R^~U&F,t[30]=q^~L&Q,t[31]=G^~P&T,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=A^~B&w,t[3]=v^~g&_,t[12]=m^~z&j,t[13]=O^~N&J,t[22]=E^~V&D,t[23]=U^~F&W,t[32]=L^~Q&X,t[33]=P^~T&Z,t[42]=nt^~ot&at,t[43]=it^~st&ut,t[4]=B^~w&k,t[5]=g^~_&S,t[14]=z^~j&M,t[15]=N^~J&H,t[24]=V^~D&Y,t[25]=F^~W&K,t[34]=Q^~X&$,t[35]=T^~Z&tt,t[44]=ot^~at&ft,t[45]=st^~ut&ct,t[6]=w^~k&y,t[7]=_^~S&b,t[16]=j^~M&C,t[17]=J^~H&x,t[26]=D^~Y&I,t[27]=W^~K&R,t[36]=X^~$&q,t[37]=Z^~tt&G,t[46]=at^~ft&et,t[47]=ut^~ct&rt,t[8]=k^~y&A,t[9]=S^~b&v,t[18]=M^~C&m,t[19]=H^~x&O,t[28]=Y^~I&E,t[29]=K^~R&U,t[38]=$^~q&L,t[39]=tt^~G&P,t[48]=ft^~et&nt,t[49]=ct^~rt&it,t[0]^=p[n],t[1]^=p[n+1]};if(s)module.exports=S;else{for(x=0;x<C.length;++x)i[C[x]]=S[C[x]];a&&define(function(){return S})}}();\n\nlet previousEntropyArray = []\n\nself.onmessage = function (event) {\n  const entropyArray = new Uint8Array(event.data.entropyBuffer)\n  self.calcEntropy(previousEntropyArray, entropyArray)\n  previousEntropyArray = entropyArray\n}\n\nself.calcEntropy = function (byteArrayA, byteArrayB) {\n  let sum = 0\n  if (byteArrayB.length >0 && byteArrayA.length > 0) {\n\n    for (let i = 0; i < Math.min(byteArrayA.length, byteArrayB.length); i++) {\n      sum += Math.abs(byteArrayA[i] - byteArrayB[i])\n    }\n\n    const entropyMeasure = sum / byteArrayA.length\n    const hash = sha3_256.create()\n    hash.update(byteArrayB)\n    self.postMessage({entropyMeasure: entropyMeasure, entropyHex: hash.hex()})\n  }\n}`\n\nexport default entropyCalculatorWorkerJS\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import {\n  APP_PLUGIN,\n  IACMessageTransport,\n  LanguageService,\n  ProtocolService,\n  SPLASH_SCREEN_PLUGIN,\n  STATUS_BAR_PLUGIN\n} from '@airgap/angular-core'\nimport { TezosSaplingExternalMethodProvider } from '@airgap/coinlib-core'\nimport {\n  TezosSaplingProtocolOptions,\n  TezosShieldedTezProtocolConfig\n} from '@airgap/coinlib-core/protocols/tezos/sapling/TezosSaplingProtocolOptions'\nimport { TezosShieldedTezProtocol } from '@airgap/coinlib-core/protocols/tezos/sapling/TezosShieldedTezProtocol'\nimport { HttpClient } from '@angular/common/http'\nimport { AfterViewInit, Component, Inject, NgZone } from '@angular/core'\nimport { AppPlugin, URLOpenListenerEvent } from '@capacitor/app'\nimport { SplashScreenPlugin } from '@capacitor/splash-screen'\nimport { StatusBarPlugin, Style } from '@capacitor/status-bar'\nimport { Platform } from '@ionic/angular'\nimport { first } from 'rxjs/operators'\n\nimport { SecurityUtilsPlugin } from './capacitor-plugins/definitions'\nimport { SECURITY_UTILS_PLUGIN } from './capacitor-plugins/injection-tokens'\nimport { DEEPLINK_VAULT_ADD_ACCOUNT, DEEPLINK_VAULT_PREFIX } from './constants/constants'\nimport { ExposedPromise, exposedPromise } from './functions/exposed-promise'\nimport { MnemonicSecret } from './models/secret'\nimport { ErrorCategory, handleErrorLocal } from './services/error-handler/error-handler.service'\nimport { IACService } from './services/iac/iac.service'\nimport { NavigationService } from './services/navigation/navigation.service'\nimport { SaplingNativeService } from './services/sapling-native/sapling-native.service'\nimport { SecretsService } from './services/secrets/secrets.service'\nimport { StartupChecksService } from './services/startup-checks/startup-checks.service'\n\ndeclare let window: Window & { airGapHasStarted: boolean }\n\n@Component({\n  selector: 'airgap-root',\n  templateUrl: 'app.component.html'\n})\nexport class AppComponent implements AfterViewInit {\n  // Sometimes the deeplink was registered before the root page was set\n  // This resulted in the root page \"overwriting\" the deep-linked page\n  public isInitialized: ExposedPromise<void> = exposedPromise<void>()\n\n  constructor(\n    private readonly platform: Platform,\n    private readonly startupChecks: StartupChecksService,\n    private readonly iacService: IACService,\n    private readonly languageService: LanguageService,\n    private readonly protocolService: ProtocolService,\n    private readonly secretsService: SecretsService,\n    private readonly ngZone: NgZone,\n    private readonly navigationService: NavigationService,\n    private readonly httpClient: HttpClient,\n    private readonly saplingNativeService: SaplingNativeService,\n    @Inject(APP_PLUGIN) private readonly app: AppPlugin,\n    @Inject(SECURITY_UTILS_PLUGIN) private readonly securityUtils: SecurityUtilsPlugin,\n    @Inject(SPLASH_SCREEN_PLUGIN) private readonly splashScreen: SplashScreenPlugin,\n    @Inject(STATUS_BAR_PLUGIN) private readonly statusBar: StatusBarPlugin\n  ) {\n    // We set the app as started so no \"error alert\" will be shown in case the app fails to load. See error-check.js for details.\n    window.airGapHasStarted = true\n    this.initializeApp().catch(handleErrorLocal(ErrorCategory.OTHER))\n  }\n\n  public async initializeApp(): Promise<void> {\n    await Promise.all([this.platform.ready(), this.initializeTranslations(), this.initializeProtocols()])\n\n    if (this.platform.is('hybrid')) {\n      this.statusBar.setStyle({ style: Style.Dark })\n      this.statusBar.setBackgroundColor({ color: '#311B58' })\n      this.splashScreen.hide()\n\n      await this.securityUtils.toggleAutomaticAuthentication({ automatic: true })\n    }\n\n    this.initChecks()\n  }\n\n  public async initChecks(): Promise<void> {\n    await this.startupChecks.initChecks()\n\n    this.isInitialized.resolve()\n  }\n\n  public async ngAfterViewInit(): Promise<void> {\n    await this.platform.ready()\n    this.app.addListener('appUrlOpen', async (data: URLOpenListenerEvent) => {\n      await this.isInitialized.promise\n      if (data.url === DEEPLINK_VAULT_PREFIX || data.url.startsWith(DEEPLINK_VAULT_ADD_ACCOUNT)) {\n        console.log('Successfully matched route', data.url)\n        this.secretsService\n          .getSecretsObservable()\n          .pipe(first())\n          .subscribe((secrets: MnemonicSecret[]) => {\n            if (secrets.length > 0) {\n              this.ngZone\n                .run(async () => {\n                  this.navigationService.routeToAccountsTab().catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n\n                  const protocol: string = data.url.substr(DEEPLINK_VAULT_ADD_ACCOUNT.length)\n                  if (protocol.length > 0) {\n                    this.navigationService\n                      .routeWithState('account-add', { protocol })\n                      .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n                  } else {\n                    this.navigationService.route('account-add').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n                  }\n                })\n                .catch(handleErrorLocal(ErrorCategory.OTHER))\n            }\n          })\n      } else {\n        this.ngZone.run(async () => {\n          this.iacService.handleRequest(data.url, IACMessageTransport.DEEPLINK).catch(handleErrorLocal(ErrorCategory.SCHEME_ROUTING))\n        })\n      }\n    })\n  }\n\n  private async initializeTranslations(): Promise<void> {\n    return this.languageService.init({\n      supportedLanguages: ['en', 'de', 'zh-cn'],\n      defaultLanguage: 'en'\n    })\n  }\n\n  private async initializeProtocols(): Promise<void> {\n    const externalMethodProvider:\n      | TezosSaplingExternalMethodProvider\n      | undefined = await this.saplingNativeService.createExternalMethodProvider()\n\n    const shieldedTezProtocol: TezosShieldedTezProtocol = new TezosShieldedTezProtocol(\n      new TezosSaplingProtocolOptions(\n        undefined,\n        new TezosShieldedTezProtocolConfig(undefined, undefined, undefined, externalMethodProvider)\n      )\n    )\n\n    this.protocolService.init({\n      extraActiveProtocols: [shieldedTezProtocol]\n    })\n\n    await shieldedTezProtocol.initParameters(await this.getSaplingParams('spend'), await this.getSaplingParams('output'))\n  }\n\n  private async getSaplingParams(type: 'spend' | 'output'): Promise<Buffer> {\n    if (this.platform.is('hybrid')) {\n      // Sapling params are read and used in a native plugin, there's no need to read them in the Ionic part\n      return Buffer.alloc(0)\n    }\n\n    const params: ArrayBuffer = await this.httpClient\n      .get(`./assets/sapling/sapling-${type}.params`, { responseType: 'arraybuffer' })\n      .toPromise()\n\n    return Buffer.from(params)\n  }\n}\n","<ion-app>\n  <ion-router-outlet [swipeGesture]=\"false\"></ion-router-outlet>\n</ion-app>\n","import { AppConfig } from '@airgap/angular-core'\n\nexport const appConfig: AppConfig = {\n  app: {\n    name: 'AirGap Vault',\n    urlScheme: 'airgap-vault',\n    universalLink: 'vault.airgap.it'\n  },\n  otherApp: {\n    name: 'AirGap Wallet',\n    urlScheme: 'airgap-wallet',\n    universalLink: 'wallet.airgap.it'\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { Observable } from 'rxjs'\n\nimport { Entropy, IEntropyGenerator } from '../entropy/IEntropyGenerator'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DummyEntropyService implements IEntropyGenerator {\n  public start(): Promise<void> {\n    return Promise.resolve()\n  }\n\n  public stop(): Promise<any> {\n    return Promise.resolve()\n  }\n\n  public getEntropyUpdateObservable(): Observable<Entropy> {\n    return new Observable((observer) => {\n      observer.next({\n        entropyHex: ''\n      })\n    })\n  }\n\n  public getCollectedEntropyPercentage(): number {\n    return 0\n  }\n}\n","import { Component, AfterContentInit } from '@angular/core'\nimport { ModalController, NavParams } from '@ionic/angular'\nimport { TranslateService } from '@ngx-translate/core'\nimport { first } from 'rxjs/operators'\n\nimport { ErrorCategory, handleErrorLocal } from '../../services/error-handler/error-handler.service'\nimport { SecureStorageService } from '../../services/secure-storage/secure-storage.service'\nimport { VaultStorageKey, VaultStorageService } from '../../services/storage/storage.service'\n\nexport enum Warning {\n  SECURE_STORAGE,\n  ROOT,\n  SCREENSHOT,\n  NETWORK,\n  INITIAL_DISCLAIMER\n}\n\n@Component({\n  selector: 'airgap-warning-modal',\n  templateUrl: './warning-modal.page.html',\n  styleUrls: ['./warning-modal.page.scss']\n})\nexport class WarningModalPage implements AfterContentInit {\n  private readonly errorType: Warning\n\n  public title: string\n  public description: string\n  public imageUrl: string | undefined = undefined\n  public handler: () => void = () => undefined\n  public buttonText: string | undefined = undefined\n\n  constructor(\n    public navParams: NavParams,\n    private readonly secureStorageService: SecureStorageService,\n    private readonly modalController: ModalController,\n    private readonly storageService: VaultStorageService,\n    private readonly translateService: TranslateService\n  ) {}\n\n  public ngAfterContentInit(): void {\n    if (this.errorType === Warning.ROOT) {\n      this.translateService.get(['warnings-modal.root.title', 'warnings-modal.root.description']).subscribe((values) => {\n        this.title = values['warnings-modal.root.title']\n        this.description = values['warnings-modal.root.description']\n      })\n      this.imageUrl = './assets/img/root_detection.svg'\n      this.handler = (): void => undefined\n    }\n\n    if (this.errorType === Warning.SCREENSHOT) {\n      this.translateService.get(['warnings-modal.screenshot.title', 'warnings-modal.screenshot.description']).subscribe((values) => {\n        this.title = values['warnings-modal.screenshot.title']\n        this.description = values['warnings-modal.screenshot.description']\n      })\n      this.imageUrl = './assets/img/screenshot_detected.svg'\n      this.buttonText = 'Ok'\n      this.handler = () => {\n        this.modalController.dismiss().catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n      }\n    }\n\n    if (this.errorType === Warning.SECURE_STORAGE) {\n      this.translateService\n        .get([\n          'warnings-modal.secure-storage.title',\n          'warnings-modal.secure-storage.description',\n          'warnings-modal.secure-storage.button-text_label'\n        ])\n        .subscribe((values) => {\n          this.title = values['warnings-modal.secure-storage.title']\n          this.description = values['warnings-modal.secure-storage.description']\n          this.buttonText = values['warnings-modal.secure-storage.button-text_label']\n        })\n      this.imageUrl = './assets/img/screenshot_detected.svg'\n      this.handler = (): void => {\n        this.secureStorageService.secureDevice().catch(handleErrorLocal(ErrorCategory.SECURE_STORAGE))\n      }\n    }\n\n    if (this.errorType === Warning.NETWORK) {\n      this.translateService.get(['warnings-modal.network.title', 'warnings-modal.network.description']).subscribe((values) => {\n        this.title = values['warnings-modal.network.title']\n        this.description = values['warnings-modal.network.description']\n      })\n      this.imageUrl = './assets/img/network_connection.svg'\n      this.handler = (): void => undefined\n    }\n\n    if (this.errorType === Warning.INITIAL_DISCLAIMER) {\n      this.translateService\n        .get([\n          'warnings-modal.disclaimer.title',\n          'warnings-modal.disclaimer.text',\n          'warnings-modal.disclaimer.disclaimer-list.text',\n          'warnings-modal.disclaimer.disclaimer-list.item-1_text',\n          'warnings-modal.disclaimer.disclaimer-list.item-2_text',\n          'warnings-modal.disclaimer.description',\n          'warnings-modal.disclaimer.understood_label'\n        ])\n        .pipe(first())\n        .subscribe((values: string[]) => {\n          const title: string = values['warnings-modal.disclaimer.title']\n          const text: string = values['warnings-modal.disclaimer.text']\n          const listText: string = values['warnings-modal.disclaimer.disclaimer-list.text']\n          const listItem1Text: string = values['warnings-modal.disclaimer.disclaimer-list.item-1_text']\n          const listItem2Text: string = values['warnings-modal.disclaimer.disclaimer-list.item-2_text']\n          const descriptionText: string = values['warnings-modal.disclaimer.description']\n          const understoodLabel: string = values['warnings-modal.disclaimer.understood_label']\n          this.title = title\n          this.description = [\n            '<p><strong>',\n            text,\n            '</strong></p><p>',\n            listText,\n            '<ul><li>',\n            listItem1Text,\n            '</li><li>',\n            listItem2Text,\n            '</li></ul></p><p>',\n            descriptionText,\n            '</p>'\n          ].join('')\n\n          this.imageUrl = undefined\n          this.buttonText = understoodLabel\n          this.handler = (): void => {\n            this.storageService\n              .set(VaultStorageKey.DISCLAIMER_INITIAL, true)\n              .then(() => {\n                this.modalController.dismiss().catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n              })\n              .catch(handleErrorLocal(ErrorCategory.SECURE_STORAGE))\n          }\n        })\n    }\n  }\n}\n","<ion-header transparent class=\"ion-no-border\">\n  <ion-toolbar transparent>\n    <ion-title>{{ title }}</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-row class=\"ion-padding-horizontal\" [innerHtml]=\"description\"></ion-row>\n\n  <ion-row class=\"ion-justify-content-center\" *ngIf=\"imageUrl\"><img class=\"warning-img\" [src]=\"imageUrl\" /></ion-row>\n\n  <ion-fab *ngIf=\"buttonText\" vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button default (click)=\"handler()\" color=\"primary\" shape=\"round\" item-right>{{ buttonText }}</ion-button>\n  </ion-fab>\n</ion-content>\n","import {\n  AirGapAngularCoreModule,\n  AirGapTranslateLoader,\n  AppInfo,\n  APP_CONFIG,\n  APP_INFO_PLUGIN,\n  APP_LAUNCHER_PLUGIN,\n  APP_PLUGIN,\n  ClipboardService,\n  CLIPBOARD_PLUGIN,\n  DeeplinkService,\n  PermissionsService,\n  QrScannerService,\n  SerializerService,\n  SPLASH_SCREEN_PLUGIN,\n  STATUS_BAR_PLUGIN,\n  FILESYSTEM_PLUGIN,\n  UiEventService\n} from '@airgap/angular-core'\nimport { AirGapAngularNgRxModule } from '@airgap/angular-ngrx'\nimport { PercentPipe } from '@angular/common'\nimport { HttpClient, HttpClientModule } from '@angular/common/http'\nimport { ErrorHandler, NgModule } from '@angular/core'\nimport { BrowserModule } from '@angular/platform-browser'\nimport { RouteReuseStrategy } from '@angular/router'\nimport { App } from '@capacitor/app'\nimport { AppLauncher } from '@capacitor/app-launcher'\nimport { Clipboard } from '@capacitor/clipboard'\nimport { SplashScreen } from '@capacitor/splash-screen'\nimport { StatusBar } from '@capacitor/status-bar'\nimport { DeviceMotion } from '@ionic-native/device-motion/ngx'\nimport { Diagnostic } from '@ionic-native/diagnostic/ngx'\nimport { IonicModule, IonicRouteStrategy, Platform } from '@ionic/angular'\nimport { IonicStorageModule } from '@ionic/storage'\nimport { EffectsModule } from '@ngrx/effects'\nimport { StoreModule } from '@ngrx/store'\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core'\n\nimport { AppRoutingModule } from './app-routing.module'\nimport { AppComponent } from './app.component'\nimport * as fromRoot from './app.reducers'\nimport { CameraPreview, SaplingNative, SecurityUtils } from './capacitor-plugins/definitions'\nimport { CAMERA_PREVIEW_PLUGIN, SAPLING_PLUGIN, SECURITY_UTILS_PLUGIN } from './capacitor-plugins/injection-tokens'\nimport { appConfig } from './config/app-config'\nimport { DistributionOnboardingPageModule } from './pages/distribution-onboarding/distribution-onboarding.module'\nimport { IntroductionPageModule } from './pages/introduction/introduction.module'\nimport { LocalAuthenticationOnboardingPageModule } from './pages/local-authentication-onboarding/local-authentication-onboarding.module'\nimport { WarningModalPageModule } from './pages/warning-modal/warning-modal.module'\nimport { AudioServiceFactory } from './services/audio/audio.factory'\nimport { AudioNativeService } from './services/audio/audio.native.servive'\nimport { CameraFactory, CameraFactoryDepHolder } from './services/camera/camera.factory'\nimport { CameraNativeService } from './services/camera/camera.native.service'\nimport { DeviceService } from './services/device/device.service'\nimport { EntropyService } from './services/entropy/entropy.service'\nimport { ErrorHandlerService } from './services/error-handler/error-handler.service'\nimport { GyroscopeServiceFactory } from './services/gyroscope/gyroscope.factory'\nimport { GyroscopeNativeService } from './services/gyroscope/gyroscope.native.service'\nimport { IACService } from './services/iac/iac.service'\nimport { InteractionService } from './services/interaction/interaction.service'\nimport { SecretsService } from './services/secrets/secrets.service'\nimport { SecureStorageFactory, SecureStorageFactoryDepHolder } from './services/secure-storage/secure-storage.factory'\nimport { SecureStorageService } from './services/secure-storage/secure-storage.service'\nimport { ShareUrlService } from './services/share-url/share-url.service'\nimport { StartupChecksService } from './services/startup-checks/startup-checks.service'\nimport { VaultStorageService } from './services/storage/storage.service'\nimport { Filesystem } from '@capacitor/filesystem'\n\nexport function createTranslateLoader(http: HttpClient): AirGapTranslateLoader {\n  return new AirGapTranslateLoader(http, { prefix: './assets/i18n/', suffix: '.json' })\n}\n\n@NgModule({\n  declarations: [AppComponent],\n  entryComponents: [],\n  imports: [\n    BrowserModule,\n    StoreModule.forRoot(fromRoot.reducers, {\n      metaReducers: fromRoot.metaReducers,\n      /* temporary fix for `ERROR TypeError: Cannot freeze array buffer views with elements` */\n      runtimeChecks: {\n        strictStateImmutability: false,\n        strictActionImmutability: false\n      }\n    }),\n    EffectsModule.forRoot(),\n    IonicModule.forRoot(),\n    AppRoutingModule,\n    HttpClientModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: createTranslateLoader,\n        deps: [HttpClient]\n      }\n    }),\n    IonicStorageModule.forRoot({\n      name: '__airgap_storage',\n      driverOrder: ['sqlite', 'localstorage']\n    }),\n    WarningModalPageModule,\n    IntroductionPageModule,\n    DistributionOnboardingPageModule,\n    LocalAuthenticationOnboardingPageModule,\n    AirGapAngularCoreModule,\n    AirGapAngularNgRxModule\n  ],\n  providers: [\n    { provide: APP_PLUGIN, useValue: App },\n    { provide: APP_INFO_PLUGIN, useValue: AppInfo },\n    { provide: APP_LAUNCHER_PLUGIN, useValue: AppLauncher },\n    { provide: CAMERA_PREVIEW_PLUGIN, useValue: CameraPreview },\n    { provide: CLIPBOARD_PLUGIN, useValue: Clipboard },\n    { provide: FILESYSTEM_PLUGIN, useValue: Filesystem },\n    { provide: SAPLING_PLUGIN, useValue: SaplingNative },\n    { provide: SECURITY_UTILS_PLUGIN, useValue: SecurityUtils },\n    { provide: SPLASH_SCREEN_PLUGIN, useValue: SplashScreen },\n    { provide: STATUS_BAR_PLUGIN, useValue: StatusBar },\n    { provide: APP_CONFIG, useValue: appConfig },\n    { provide: ErrorHandler, useClass: ErrorHandlerService },\n    Diagnostic,\n    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy },\n    DeviceMotion,\n    AudioNativeService,\n    SecretsService,\n    SecureStorageService,\n    DeviceService,\n    CameraNativeService,\n    EntropyService,\n    GyroscopeNativeService,\n    QrScannerService,\n    StartupChecksService,\n    IACService,\n    ClipboardService,\n    PermissionsService,\n    ShareUrlService,\n    ErrorHandlerService,\n    InteractionService,\n    DeeplinkService,\n    SerializerService,\n    VaultStorageService,\n    UiEventService,\n    PercentPipe,\n    SecureStorageFactoryDepHolder,\n    CameraFactoryDepHolder,\n    {\n      provide: SecureStorageService,\n      useFactory: SecureStorageFactory,\n      deps: [SecureStorageFactoryDepHolder]\n    },\n    {\n      provide: CameraNativeService,\n      useFactory: CameraFactory,\n      deps: [CameraFactoryDepHolder]\n    },\n    {\n      provide: AudioNativeService,\n      useFactory: AudioServiceFactory,\n      deps: [Platform, PermissionsService]\n    },\n    {\n      provide: GyroscopeNativeService,\n      useFactory: GyroscopeServiceFactory,\n      deps: [Platform, DeviceMotion]\n    }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Either, merged, ProtocolService } from '@airgap/angular-core'\nimport {\n  AirGapWallet,\n  AirGapWalletStatus,\n  ICoinProtocol,\n  MainProtocolSymbols,\n  ProtocolSymbols,\n  SerializedAirGapWallet\n} from '@airgap/coinlib-core'\nimport { Injectable } from '@angular/core'\nimport { AlertController, LoadingController } from '@ionic/angular'\nimport * as bip32 from 'bip32'\nimport * as bip39 from 'bip39'\nimport { Observable, ReplaySubject } from 'rxjs'\n\nimport { MnemonicSecret } from '../../models/secret'\nimport { ErrorCategory, handleErrorLocal } from '../error-handler/error-handler.service'\nimport { NavigationService } from '../navigation/navigation.service'\nimport { SecureStorage, SecureStorageService } from '../secure-storage/secure-storage.service'\nimport { VaultStorageKey, VaultStorageService } from '../storage/storage.service'\nimport * as bitcoinJS from 'bitcoinjs-lib'\n\nimport * as bs58check from 'bs58check'\n\nclass ExtendedPublicKey {\n  private readonly rawKey: Buffer\n  constructor(extendedPublicKey: string) {\n    this.rawKey = bs58check.decode(extendedPublicKey).slice(4)\n  }\n\n  toXpub() {\n    return this.addPrefix('0488b21e')\n  }\n\n  toYPub() {\n    return this.addPrefix('049d7cb2')\n  }\n\n  toZPub() {\n    return this.addPrefix('04b24746')\n  }\n\n  private addPrefix(prefix: string) {\n    const data = Buffer.concat([Buffer.from(prefix, 'hex'), this.rawKey])\n    return bs58check.encode(data)\n  }\n}\n\ninterface AddWalletConifg {\n  protocolIdentifier: ProtocolSymbols\n  isHDWallet: boolean\n  customDerivationPath: string\n  bip39Passphrase: string\n  isActive: boolean\n}\n@Injectable({\n  providedIn: 'root'\n})\nexport class SecretsService {\n  private readonly ready: Promise<void>\n  private readonly secretsList: MnemonicSecret[] = []\n  private activeSecret: MnemonicSecret\n\n  private readonly activeSecret$: ReplaySubject<MnemonicSecret> = new ReplaySubject(1)\n  private readonly secrets$: ReplaySubject<MnemonicSecret[]> = new ReplaySubject(1)\n\n  constructor(\n    private readonly secureStorageService: SecureStorageService,\n    private readonly storageService: VaultStorageService,\n    private readonly protocolService: ProtocolService,\n    private readonly navigationService: NavigationService,\n    private readonly loadingCtrl: LoadingController,\n    private readonly alertCtrl: AlertController\n  ) {\n    this.ready = this.init()\n  }\n\n  private async init(): Promise<void> {\n    const secrets: MnemonicSecret[] = await this.read()\n    this.secretsList.push(...secrets.map((obj: MnemonicSecret) => MnemonicSecret.init(obj)))\n    this.secrets$.next(this.secretsList)\n    this.activeSecret = this.secretsList[0]\n    this.activeSecret$.next(this.activeSecret)\n  }\n\n  public isReady(): Promise<void> {\n    return this.ready\n  }\n\n  private async read(): Promise<MnemonicSecret[]> {\n    const rawSecretsPayload: unknown = await this.storageService.get(VaultStorageKey.AIRGAP_SECRET_LIST)\n\n    // necessary due to double serialization bug we had\n    let secrets: MnemonicSecret[] = typeof rawSecretsPayload === 'string' ? JSON.parse(rawSecretsPayload) : rawSecretsPayload\n\n    if (!secrets) {\n      secrets = []\n    }\n\n    for (let k: number = 0; k < secrets.length; k++) {\n      const secret: MnemonicSecret = secrets[k]\n      if (secret.wallets) {\n        const serializedWallets: SerializedAirGapWallet[] = (secret.wallets as unknown) as SerializedAirGapWallet[]\n        const wallets = (\n          await Promise.all(\n            serializedWallets.map(async (serializedWallet) => {\n              const protocol: ICoinProtocol | undefined = await this.protocolService\n                .getProtocol(serializedWallet.protocolIdentifier)\n                .catch((error) => {\n                  console.error(error)\n                  return undefined\n                })\n              if (protocol === undefined) {\n                return undefined\n              }\n              const airGapWallet: AirGapWallet = new AirGapWallet(\n                protocol,\n                serializedWallet.publicKey,\n                serializedWallet.isExtendedPublicKey,\n                serializedWallet.derivationPath,\n                serializedWallet.masterFingerprint ?? '',\n                serializedWallet.status ?? AirGapWalletStatus.ACTIVE\n              )\n              airGapWallet.addresses = serializedWallet.addresses\n              return airGapWallet\n            })\n          )\n        ).filter((wallet) => wallet !== undefined)\n        secrets[k].wallets = wallets\n      } else {\n        secrets[k].wallets = []\n      }\n    }\n\n    return secrets\n  }\n\n  public async addOrUpdateSecret(secret: MnemonicSecret, options: { setActive: boolean } = { setActive: true }): Promise<void> {\n    if (!secret.wallets) {\n      secret.wallets = []\n    }\n\n    if (!secret.secretHex) {\n      this.secretsList[this.secretsList.findIndex((item: MnemonicSecret) => item.id === secret.id)] = secret\n\n      if (options.setActive) {\n        this.setActiveSecret(secret)\n      }\n\n      return this.persist()\n    } else {\n      const secureStorage: SecureStorage = await this.secureStorageService.get(secret.id, secret.isParanoia)\n\n      await secureStorage.setItem(secret.id, secret.secretHex)\n\n      secret.flushSecret()\n\n      // It's a new secret, push to array\n      if (this.secretsList.findIndex((item: MnemonicSecret) => item.id === secret.id) === -1) {\n        this.secretsList.push(secret)\n        this.secrets$.next(this.secretsList)\n      }\n\n      if (options.setActive) {\n        this.setActiveSecret(secret)\n      }\n\n      return this.persist()\n    }\n  }\n\n  public async remove(secret: MnemonicSecret): Promise<void> {\n    const secureStorage: SecureStorage = await this.secureStorageService.get(secret.id, secret.isParanoia)\n\n    await secureStorage.removeItem(secret.id)\n\n    this.secretsList.splice(this.secretsList.indexOf(secret), 1)\n    this.secrets$.next(this.secretsList)\n\n    if (this.activeSecret === secret) {\n      this.setActiveSecret(this.secretsList[0])\n    }\n\n    await this.persist()\n  }\n\n  public async resetRecoveryPassword(secret: MnemonicSecret): Promise<string> {\n    const secureStorage: SecureStorage = await this.secureStorageService.get(secret.id, secret.isParanoia)\n    try {\n      const secretHex = await secureStorage.getItem(secret.id).then((result) => result.value)\n\n      return secureStorage.setupRecoveryPassword(secret.id, secretHex).then((result) => {\n        secret.hasRecoveryKey = true\n        this.addOrUpdateSecret(secret)\n\n        return result.recoveryKey\n      })\n    } catch (error) {\n      if (error.message.startsWith('Could not read from the secure storage.')) {\n        this.handleCorruptedSecret(error)\n      }\n      throw error\n    }\n  }\n\n  public async retrieveEntropyForSecret(secret: MnemonicSecret): Promise<string> {\n    const secureStorage: SecureStorage = await this.secureStorageService.get(secret.id, secret.isParanoia)\n\n    return secureStorage\n      .getItem(secret.id)\n      .then((result) => {\n        return result.value\n      })\n      .catch((error) => {\n        if (error.message.startsWith('Could not read from the secure storage.')) {\n          this.handleCorruptedSecret(error)\n        }\n        throw error\n      })\n  }\n\n  public findByFingerprint(fingerprint: string): MnemonicSecret | undefined {\n    for (const secret of this.secretsList) {\n      const foundWallet: AirGapWallet | undefined = secret.wallets.find((wallet: AirGapWallet) => wallet.masterFingerprint === fingerprint)\n      if (foundWallet !== undefined) {\n        return secret\n      }\n    }\n\n    return undefined\n  }\n\n  public findByPublicKey(pubKey: string): MnemonicSecret | undefined {\n    for (const secret of this.secretsList) {\n      const foundWallet: AirGapWallet | undefined = secret.wallets.find((wallet: AirGapWallet) => wallet.publicKey === pubKey)\n      if (foundWallet !== undefined) {\n        return secret\n      }\n    }\n\n    return undefined\n  }\n\n  public getWallets(): AirGapWallet[] {\n    const walletList: AirGapWallet[] = []\n    for (const secret of this.secretsList) {\n      walletList.push(...secret.wallets)\n    }\n\n    return walletList\n  }\n\n  public async removeWallet(wallet: AirGapWallet): Promise<void> {\n    const secret: MnemonicSecret | undefined = this.findByPublicKey(wallet.publicKey)\n    if (!secret) {\n      return undefined\n    }\n\n    wallet.status = AirGapWalletStatus.DELETED\n\n    return this.addOrUpdateSecret(secret)\n  }\n\n  public findWalletByPublicKeyAndProtocolIdentifier(pubKey: string, protocolIdentifier: ProtocolSymbols): AirGapWallet | undefined {\n    const secret: MnemonicSecret | undefined = this.findByPublicKey(pubKey)\n    if (!secret) {\n      return undefined\n    }\n\n    const foundWallet: AirGapWallet | undefined = secret.wallets.find(\n      (wallet: AirGapWallet) => wallet.publicKey === pubKey && wallet.protocol.identifier === protocolIdentifier\n    )\n\n    return foundWallet\n  }\n\n  public findWalletByFingerprintDerivationPathAndProtocolIdentifier(\n    fingerprint: string,\n    protocolIdentifier: ProtocolSymbols,\n    derivationPath: string,\n    publicKey: Buffer\n  ): AirGapWallet | undefined {\n    const secret: MnemonicSecret | undefined = this.findByFingerprint(fingerprint)\n    if (!secret) {\n      return undefined\n    }\n\n    const foundWallet: AirGapWallet | undefined = secret.wallets.find((wallet: AirGapWallet) => {\n      const match = wallet.masterFingerprint === fingerprint && wallet.protocol.identifier === protocolIdentifier\n      if (match) {\n        if (!derivationPath.startsWith(wallet.derivationPath)) {\n          return false\n        }\n\n        // This uses the same logic to find child key as \"sign\" method in the BitcoinSegwitProtocol\n        const bip32PK = bitcoinJS.bip32.fromBase58(new ExtendedPublicKey(wallet.publicKey).toXpub())\n        const cutoffFrom = derivationPath.lastIndexOf(\"'\") || derivationPath.lastIndexOf('h')\n        const childPath = derivationPath.substr(cutoffFrom + 2)\n        const walletPublicKey = bip32PK.derivePath(childPath).publicKey\n\n        return publicKey.equals(walletPublicKey)\n      }\n      return false\n    })\n\n    return foundWallet\n  }\n\n  public findBaseWalletByPublicKeyAndProtocolIdentifier(pubKey: string, protocolIdentifier: ProtocolSymbols): AirGapWallet | undefined {\n    const secret: MnemonicSecret | undefined = this.findByPublicKey(pubKey)\n    if (!secret) {\n      return undefined\n    }\n\n    return secret.wallets.find(\n      (wallet: AirGapWallet) => wallet.publicKey === pubKey && protocolIdentifier.startsWith(wallet.protocol.identifier)\n    )\n  }\n\n  public getActiveSecret(): MnemonicSecret {\n    return this.activeSecret || this.secretsList[0]\n  }\n\n  public setActiveSecret(secret: MnemonicSecret): void {\n    this.activeSecret = secret\n    this.activeSecret$.next(secret)\n  }\n\n  public getActiveSecretObservable(): Observable<MnemonicSecret> {\n    return this.activeSecret$.asObservable()\n  }\n\n  public getSecretsObservable(): Observable<MnemonicSecret[]> {\n    return this.secrets$.asObservable()\n  }\n\n  private async persist(): Promise<void> {\n    this.secretsList.forEach((secret: MnemonicSecret) => {\n      secret.flushSecret()\n    })\n\n    const rawSecretsPayload: unknown = await this.storageService.get(VaultStorageKey.AIRGAP_SECRET_LIST)\n\n    // necessary due to double serialization bug we had\n    const storedSecrets: MnemonicSecret[] = typeof rawSecretsPayload === 'string' ? JSON.parse(rawSecretsPayload) : rawSecretsPayload\n    const secrets = this.secretsList.map((secret) => {\n      const storedSecret = storedSecrets.find((storedSecret) => storedSecret.id === secret.getIdentifier())\n      if (storedSecret === undefined) {\n        return secret\n      }\n      const wallets: (AirGapWallet | SerializedAirGapWallet)[] = secret.wallets.slice(0)\n      for (let i = 0; i < storedSecret.wallets.length; ++i) {\n        const serializedWallet = (storedSecret.wallets[i] as unknown) as SerializedAirGapWallet\n        const found = wallets.find(\n          (wallet) =>\n            isAirGapWallet(wallet) &&\n            wallet.protocol.identifier === serializedWallet.protocolIdentifier &&\n            wallet.publicKey === serializedWallet.publicKey\n        )\n        if (found === undefined) {\n          wallets.push(serializedWallet)\n        }\n      }\n      const result = MnemonicSecret.init(secret)\n      result.wallets = (wallets as unknown) as AirGapWallet[]\n      return result\n    })\n\n    return this.storageService.set(VaultStorageKey.AIRGAP_SECRET_LIST, secrets)\n  }\n\n  public async updateWallet(wallet: AirGapWallet): Promise<void> {\n    const secret: MnemonicSecret | undefined = this.findByPublicKey(wallet.publicKey)\n    if (secret === undefined) {\n      return\n    }\n\n    await this.addOrUpdateSecret(secret)\n  }\n\n  public async addWallets(configs: AddWalletConifg[]): Promise<void> {\n    const loading: HTMLIonLoadingElement = await this.loadingCtrl.create({\n      message: 'Deriving your wallet...'\n    })\n    loading.present().catch(handleErrorLocal(ErrorCategory.IONIC_LOADER))\n\n    try {\n      const secret: MnemonicSecret = this.getActiveSecret()\n      const entropy: string = await this.retrieveEntropyForSecret(secret)\n\n      const createdOrUpdated: Either<AirGapWallet, AirGapWallet>[] = (\n        await Promise.all(configs.map((config: AddWalletConifg) => this.activateOrCreateWallet(entropy, config)))\n      ).filter((createdOrUpdated: Either<AirGapWallet, AirGapWallet> | undefined) => createdOrUpdated !== undefined)\n\n      const [createdWallets, updatedWallets]: [AirGapWallet[], AirGapWallet[]] = merged(createdOrUpdated)\n\n      if (createdWallets.length > 0 || updatedWallets.length > 0) {\n        secret.wallets.push(...createdWallets)\n        await this.addOrUpdateSecret(secret)\n      }\n\n      loading.dismiss().catch(handleErrorLocal(ErrorCategory.IONIC_LOADER))\n    } catch (error) {\n      loading.dismiss().catch(handleErrorLocal(ErrorCategory.IONIC_LOADER))\n\n      let header: string | undefined\n      let message: string | undefined\n      // minimal solution without dependency\n      if (error.message?.toLowerCase().startsWith('Expected BIP32 derivation path')) {\n        message = 'Expected BIP32 derivation path, got invalid string'\n      } else if (error.message?.toLowerCase().startsWith('wallet already exists')) {\n        header = 'Wallet already exists'\n        message = 'You already have added this specific wallet. Please change its derivation path to add another address (advanced mode).'\n      }\n\n      if (message) {\n        this.showAlert(header ?? 'Error', message).catch(handleErrorLocal(ErrorCategory.IONIC_ALERT))\n      }\n      throw error\n    }\n  }\n\n  private async activateOrCreateWallet(entropy: string, config: AddWalletConifg): Promise<Either<AirGapWallet, AirGapWallet> | undefined> {\n    const newWallet: AirGapWallet = await this.createNewWallet(entropy, config)\n    const existingWallet: AirGapWallet | undefined = this.findWalletByPublicKeyAndProtocolIdentifier(\n      newWallet.publicKey,\n      newWallet.protocol.identifier\n    )\n\n    if (existingWallet === undefined) {\n      return [newWallet, undefined]\n    } else if (newWallet.status === AirGapWalletStatus.ACTIVE && existingWallet.status !== AirGapWalletStatus.ACTIVE) {\n      existingWallet.status = AirGapWalletStatus.ACTIVE\n      return [undefined, existingWallet]\n    } else if (newWallet.status === AirGapWalletStatus.ACTIVE && existingWallet.status === AirGapWalletStatus.ACTIVE) {\n      throw new Error('Wallet already exists')\n    } else {\n      return undefined\n    }\n  }\n\n  private async createNewWallet(entropy: string, config: AddWalletConifg): Promise<AirGapWallet> {\n    const protocol: ICoinProtocol = await this.protocolService.getProtocol(config.protocolIdentifier)\n\n    const mnemonic: string = bip39.entropyToMnemonic(entropy)\n    const seed: Buffer = await bip39.mnemonicToSeed(mnemonic, config.bip39Passphrase)\n\n    const bip32Node: bip32.BIP32Interface = bip32.fromSeed(seed)\n\n    const publicKey: string = await protocol.getPublicKeyFromMnemonic(mnemonic, config.customDerivationPath, config.bip39Passphrase)\n    const fingerprint: string = bip32Node.fingerprint.toString('hex')\n\n    const wallet: AirGapWallet = new AirGapWallet(\n      protocol,\n      publicKey,\n      config.isHDWallet,\n      config.customDerivationPath,\n      fingerprint,\n      config.isActive ? AirGapWalletStatus.ACTIVE : AirGapWalletStatus.HIDDEN\n    )\n\n    const addresses: string[] = await wallet.deriveAddresses(1)\n    wallet.addresses = addresses\n\n    return wallet\n  }\n\n  public getKnownViewingKeys(): string[] {\n    return this.getWallets()\n      .filter((wallet: AirGapWallet) => wallet.protocol.identifier === MainProtocolSymbols.XTZ_SHIELDED)\n      .map((wallet: AirGapWallet) => wallet.publicKey)\n  }\n\n  public async showAlert(title: string, message: string): Promise<void> {\n    const alert: HTMLIonAlertElement = await this.alertCtrl.create({\n      header: title,\n      message,\n      backdropDismiss: false,\n      buttons: [\n        {\n          text: 'Okay!',\n          role: 'cancel'\n        }\n      ]\n    })\n    alert.present().catch(handleErrorLocal(ErrorCategory.IONIC_ALERT))\n  }\n\n  private async handleCorruptedSecret(error: any): Promise<void> {\n    error.message += ' Please, re-import your secret.'\n    error.ignore = true\n\n    await this.showAlert('Error', error.message)\n    await this.navigationService.routeToAccountsTab(true)\n  }\n}\n\nfunction isAirGapWallet(value: AirGapWallet | SerializedAirGapWallet): value is AirGapWallet {\n  return (value as any).protocol !== undefined\n}\n","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule, Routes } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { WarningModalPage } from './warning-modal.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WarningModalPage\n  }\n]\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, RouterModule.forChild(routes), TranslateModule],\n  declarations: [WarningModalPage]\n})\nexport class WarningModalPageModule {}\n","export const ENTROPY_SIZE: number = 4096\nexport const SHOW_SECRET_MIN_TIME_IN_SECONDS: number = 30\nexport const DEEPLINK_VAULT_PREFIX: string = `airgap-vault://`\nexport const DEEPLINK_VAULT_ADD_ACCOUNT: string = `${DEEPLINK_VAULT_PREFIX}add-account/`\n\nexport const BIP39_PASSPHRASE_ENABLED: boolean = true\n","import { PluginListenerHandle, registerPlugin } from '@capacitor/core'\n\nexport interface CameraPreviewPlugin {\n  start({}): Promise<void>\n  stop(): Promise<void>\n  capture({}): Promise<{ value: string }>\n}\n\nexport const CameraPreview: CameraPreviewPlugin = registerPlugin('CameraPreview')\n\nexport interface SaplingNativePlugin {\n  isSupported(): Promise<{ isSupported: boolean }>\n  initParameters(): Promise<void>\n  initProvingContext(): Promise<{ context: string }>\n  dropProvingContext(params: { context: string }): Promise<void>\n  prepareSpendDescription(params: {\n    context: string\n    spendingKey: string\n    address: string\n    rcm: string\n    ar: string\n    value: string\n    root: string\n    merklePath: string\n  }): Promise<{ spendDescription: string }>\n  preparePartialOutputDescription(params: {\n    context: string\n    address: string\n    rcm: string\n    esk: string\n    value: string\n  }): Promise<{ outputDescription: string }>\n  createBindingSignature(params: { context: string; balance: string; sighash: string }): Promise<{ bindingSignature: string }>\n}\n\nexport const SaplingNative: SaplingNativePlugin = registerPlugin('SaplingNative')\n\nexport interface SecurityUtilsPlugin {\n  waitForOverlayDismiss(): Promise<void>\n  assessDeviceIntegrity(): Promise<{ value: boolean }>\n  authenticate(): Promise<void>\n  setInvalidationTimeout({}): Promise<void>\n  invalidate(): Promise<void>\n  toggleAutomaticAuthentication({}): Promise<void>\n  setAuthenticationReason({}): Promise<void>\n  initStorage({}): Promise<void>\n  isDeviceSecure({}): Promise<{ value: boolean }>\n  secureDevice({}): Promise<void>\n  getItem({}): Promise<{ value: string }>\n  setItem({}): Promise<void>\n  setupRecoveryPassword({}): Promise<{ recoveryKey: string }>\n  removeItem({}): Promise<void>\n  removeAll({}): Promise<void>\n  destroy(): Promise<void>\n  setWindowSecureFlag(): Promise<void>\n  clearWindowSecureFlag(): Promise<void>\n  addListener(event: string, callback: Function): PluginListenerHandle\n}\n\nexport const SecurityUtils: SecurityUtilsPlugin = registerPlugin('SecurityUtils')","import { Injectable } from '@angular/core'\nimport { ModalController } from '@ionic/angular'\nimport { ComponentRef, ModalOptions } from '@ionic/core'\n\nimport { DistributionOnboardingPage } from '../../pages/distribution-onboarding/distribution-onboarding.page'\nimport { IntroductionPage } from '../../pages/introduction/introduction.page'\nimport { Warning, WarningModalPage } from '../../pages/warning-modal/warning-modal.page'\nimport { DeviceService } from '../device/device.service'\nimport { ErrorCategory, handleErrorLocal } from '../error-handler/error-handler.service'\nimport { SecureStorageService } from '../secure-storage/secure-storage.service'\nimport { VaultStorageKey, VaultStorageService } from '../storage/storage.service'\n\nexport interface Check {\n  name: string\n  expectedOutcome: boolean\n  check(): Promise<boolean>\n  failureConsequence(): Promise<void>\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StartupChecksService {\n  public checks: Check[]\n\n  constructor(\n    private readonly secureStorageService: SecureStorageService,\n    private readonly deviceService: DeviceService,\n    private readonly modalController: ModalController,\n    private readonly storageService: VaultStorageService\n  ) {\n    this.checks = [\n      {\n        name: 'rootCheck',\n        expectedOutcome: false,\n        check: (): Promise<boolean> => this.deviceService.checkForRoot(),\n        failureConsequence: async (): Promise<void> => {\n          await this.presentModal(WarningModalPage, { errorType: Warning.ROOT }).catch(handleErrorLocal(ErrorCategory.INIT_CHECK))\n        }\n      },\n      {\n        name: 'deviceSecureCheck',\n        expectedOutcome: true,\n        check: async (): Promise<boolean> => {\n          const result = await this.secureStorageService.isDeviceSecure()\n\n          return Boolean(result.value).valueOf()\n        },\n        failureConsequence: async (): Promise<void> => {\n          await this.presentModal(WarningModalPage, { errorType: Warning.SECURE_STORAGE }).catch(handleErrorLocal(ErrorCategory.INIT_CHECK))\n        }\n      },\n      {\n        name: 'disclaimerAcceptedCheck',\n        expectedOutcome: true,\n        check: (): Promise<boolean> => this.storageService.get(VaultStorageKey.DISCLAIMER_INITIAL),\n        failureConsequence: async (): Promise<void> => {\n          await this.presentModal(WarningModalPage, { errorType: Warning.INITIAL_DISCLAIMER }).catch(\n            handleErrorLocal(ErrorCategory.INIT_CHECK)\n          )\n        }\n      },\n      {\n        name: 'introductionAcceptedCheck',\n        expectedOutcome: true,\n        check: (): Promise<boolean> => this.storageService.get(VaultStorageKey.INTRODUCTION_INITIAL),\n        failureConsequence: async (): Promise<void> => {\n          await this.presentModal(IntroductionPage, {}).catch(handleErrorLocal(ErrorCategory.INIT_CHECK))\n        }\n      },\n      {\n        name: 'electronCheck',\n        expectedOutcome: true,\n        check: async (): Promise<boolean> => {\n          const isElectron: boolean = await deviceService.checkForElectron()\n          const hasShownDisclaimer: boolean = await this.storageService.get(VaultStorageKey.DISCLAIMER_ELECTRON)\n\n          return !isElectron || hasShownDisclaimer\n        },\n        failureConsequence: async (): Promise<void> => {\n          await this.presentModal(DistributionOnboardingPage, {}).catch(handleErrorLocal(ErrorCategory.INIT_CHECK))\n        }\n      }\n    ]\n  }\n\n  public async presentModal(page: ComponentRef, properties: ModalOptions['componentProps']): Promise<void> {\n    return new Promise(async (resolve) => {\n      const modal: HTMLIonModalElement = await this.modalController.create({\n        component: page,\n        componentProps: properties,\n        backdropDismiss: false\n      })\n\n      modal\n        .present()\n        .then(() => {\n          console.log('check modal presented')\n        })\n        .catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n\n      modal\n        .onDidDismiss()\n        .then(() => {\n          resolve()\n        })\n        .catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n    })\n  }\n\n  public initChecks(): Promise<void> {\n    return new Promise(async (resolve) => {\n      for (const check of this.checks) {\n        if (+(await check.check()) !== +check.expectedOutcome) {\n          await check.failureConsequence()\n        }\n      }\n      resolve()\n    })\n  }\n}\n","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule, Routes } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { LocalAuthenticationOnboardingPage } from './local-authentication-onboarding.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LocalAuthenticationOnboardingPage\n  }\n]\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, RouterModule.forChild(routes), TranslateModule],\n  declarations: [LocalAuthenticationOnboardingPage]\n})\nexport class LocalAuthenticationOnboardingPageModule {}\n","import { Injectable, Inject } from '@angular/core'\nimport { SecurityUtilsPlugin } from 'src/app/capacitor-plugins/definitions'\nimport { SECURITY_UTILS_PLUGIN } from 'src/app/capacitor-plugins/injection-tokens'\n\nexport interface SecureStorage {\n  init(): Promise<void>\n  setItem(key: string, value: string): Promise<void>\n  getItem(key: string): Promise<any>\n  setupRecoveryPassword(key: string, value: string): Promise<any>\n  removeItem(key: string): Promise<void>\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SecureStorageService {\n  constructor(@Inject(SECURITY_UTILS_PLUGIN) private readonly securityUtils: SecurityUtilsPlugin) {}\n\n  public isDeviceSecure(): Promise<any> {\n    return this.securityUtils.isDeviceSecure({\n      alias: 'airgap-secure-storage',\n      isParanoia: false\n    })\n  }\n\n  public secureDevice(): Promise<void> {\n    return this.securityUtils.secureDevice({\n      alias: 'airgap-secure-storage',\n      isParanoia: false\n    })\n  }\n\n  public async get(alias: string, isParanoia: boolean): Promise<SecureStorage> {\n    const securityUtils = this.securityUtils\n\n    await securityUtils.initStorage({\n      alias,\n      isParanoia\n    })\n\n    return {\n      init() {\n        return securityUtils.initStorage({\n          alias,\n          isParanoia\n        })\n      },\n      setItem(key, value) {\n        return securityUtils.setItem({\n          alias,\n          isParanoia,\n          key,\n          value\n        })\n      },\n      setupRecoveryPassword(key, value) {\n        return securityUtils.setupRecoveryPassword({\n          alias,\n          isParanoia,\n          key,\n          value\n        })\n      },\n      getItem(key) {\n        return securityUtils\n          .getItem({\n            alias,\n            isParanoia,\n            key\n          })\n          .catch((error: unknown) => {\n            let errorMessage: string | undefined\n            if (typeof error === 'string') {\n              errorMessage = error\n            } else if (error instanceof Object && typeof (error as any).message === 'string') {\n              errorMessage = (error as any).message\n            }\n\n            if (errorMessage && errorMessage.toLowerCase().includes('item corrupted')) {\n              throw new Error('Could not read from the secure storage.')\n            }\n\n            if (errorMessage && errorMessage.toLowerCase().includes('wrong paranoia password')) {\n              throw new Error('Wrong passphrase.')\n            }\n\n            throw error\n          })\n      },\n      removeItem(key) {\n        return securityUtils.removeItem({\n          alias,\n          isParanoia,\n          key\n        })\n      }\n    }\n  }\n\n  public async wipe() {\n    // Wipe the whole secure storage\n    await this.securityUtils.destroy()\n  }\n}\n","import { Injectable } from '@angular/core'\n\nimport { ErrorCategory, handleErrorLocal } from './../error-handler/error-handler.service'\nimport { SecureStorage } from './secure-storage.service'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SecureStorageServiceMock {\n  public isSecure = 1\n\n  constructor() {\n    console.log('SecureStorageServiceMock constructor')\n  }\n\n  public isDeviceSecure(): Promise<any> {\n    return new Promise<any>((resolve) => {\n      console.warn('SecureStorageServiceMock - This Device is NOT secured')\n      resolve({ value: this.isSecure })\n    })\n  }\n\n  public secureDevice(): Promise<void> {\n    return new Promise<void>((resolve) => {\n      console.warn('SecureStorageServiceMock - This Device is NOT secured')\n      resolve()\n    })\n  }\n\n  public get(alias: string, _isParanoia: boolean): Promise<SecureStorage> {\n    console.log('SecureStorageServiceMock - creating new storage', alias)\n    const secureStorage: SecureStorage = {\n      init() {\n        console.warn('SecureStorageServiceMock - init')\n\n        return new Promise<void>((resolve) => {\n          resolve()\n        })\n      },\n      setItem(key: string, value: string): Promise<void> {\n        console.warn('SecureStorageServiceMock - setItem', key, value)\n        localStorage.setItem(alias + '-' + key, value)\n\n        return new Promise<void>((resolve) => {\n          resolve()\n        })\n      },\n      getItem(key: string): Promise<any> {\n        console.warn('SecureStorageServiceMock - getItem', key)\n        const result = localStorage.getItem(alias + '-' + key)\n\n        return new Promise<any>((resolve) => {\n          resolve({ value: result })\n        })\n      },\n      setupRecoveryPassword(key: string, value: string): Promise<any> {\n        console.warn('SecureStorageServiceMock - setupRecoveryPassword', key, value)\n        const recoverString = '' // TODO: mock it\n        localStorage.setItem(alias + '-' + key + '_' + recoverString, value)\n\n        return new Promise<any>((resolve) => {\n          resolve(recoverString)\n        })\n      },\n      removeItem(key) {\n        console.warn('SecureStorageServiceMock - removeItem', key)\n        localStorage.removeItem(alias + '-' + key)\n\n        return new Promise<any>((resolve) => {\n          resolve({})\n        })\n      }\n    }\n\n    return new Promise<SecureStorage>((resolve) => {\n      secureStorage\n        .init()\n        .then(() => {\n          resolve(secureStorage)\n        })\n        .catch(handleErrorLocal(ErrorCategory.SECURE_STORAGE))\n    })\n  }\n\n  public wipe() {\n    console.log(`Deleting \"secure storage\" (browser).`)\n    localStorage.clear()\n  }\n}\n","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule, Routes } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { IntroductionPage } from './introduction.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: IntroductionPage\n  }\n]\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, RouterModule.forChild(routes), TranslateModule],\n  declarations: [IntroductionPage]\n})\nexport class IntroductionPageModule {}\n","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t\"dUtr\",\n\t\t\"common\",\n\t\t0\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t\"Q8AI\",\n\t\t\"common\",\n\t\t1\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t\"hgI1\",\n\t\t\"common\",\n\t\t2\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t\"CfoV\",\n\t\t\"common\",\n\t\t3\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t\"Nt02\",\n\t\t\"common\",\n\t\t4\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t\"Q2Bp\",\n\t\t5\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t\"0Pbj\",\n\t\t\"common\",\n\t\t6\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t\"ydQj\",\n\t\t\"common\",\n\t\t7\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t\"4fMi\",\n\t\t\"common\",\n\t\t8\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t\"czK9\",\n\t\t\"common\",\n\t\t9\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t\"/CAe\",\n\t\t10\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t\"WgF3\",\n\t\t\"common\",\n\t\t11\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t\"uQcF\",\n\t\t\"common\",\n\t\t12\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t\"wHD8\",\n\t\t13\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t\"2lz6\",\n\t\t14\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t\"ercB\",\n\t\t\"common\",\n\t\t15\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t\"MGMP\",\n\t\t\"common\",\n\t\t16\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t\"9bur\",\n\t\t\"common\",\n\t\t17\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t\"cABk\",\n\t\t\"common\",\n\t\t18\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t\"kyFE\",\n\t\t\"common\",\n\t\t19\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t\"TvZU\",\n\t\t\"common\",\n\t\t20\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t\"vnES\",\n\t\t\"common\",\n\t\t21\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t\"qCuA\",\n\t\t\"common\",\n\t\t22\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t\"0tOe\",\n\t\t\"common\",\n\t\t23\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t\"h11V\",\n\t\t\"common\",\n\t\t24\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t\"XGij\",\n\t\t\"common\",\n\t\t25\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t\"nYbb\",\n\t\t\"common\",\n\t\t26\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t\"smMY\",\n\t\t\"common\",\n\t\t27\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t\"STjf\",\n\t\t28\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t\"k5eQ\",\n\t\t\"common\",\n\t\t29\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t\"OR5t\",\n\t\t\"common\",\n\t\t30\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t\"fSgp\",\n\t\t\"common\",\n\t\t31\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t\"lfGF\",\n\t\t\"common\",\n\t\t32\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t\"5xYT\",\n\t\t33\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t\"nI0H\",\n\t\t\"common\",\n\t\t34\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t\"NAQR\",\n\t\t35\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t\"knkW\",\n\t\t\"common\",\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t\"TpdJ\",\n\t\t\"common\",\n\t\t37\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t\"ISmu\",\n\t\t\"common\",\n\t\t38\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t\"U7LX\",\n\t\t\"common\",\n\t\t39\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t\"L3sA\",\n\t\t\"common\",\n\t\t40\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t\"IUOf\",\n\t\t\"common\",\n\t\t41\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t\"8Mb5\",\n\t\t42\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"kLfG\";\nmodule.exports = webpackAsyncContext;","import { PermissionsService } from '@airgap/angular-core'\nimport { Platform } from '@ionic/angular'\n\nimport { IEntropyGenerator } from '../entropy/IEntropyGenerator'\n\nimport { AudioBrowserService } from './audio.browser.service'\nimport { AudioNativeService } from './audio.native.servive'\n\nexport function AudioServiceFactory(platform: Platform, permissionsService: PermissionsService): IEntropyGenerator {\n  if (platform.is('hybrid')) {\n    return new AudioNativeService(platform, permissionsService)\n  } else {\n    return new AudioBrowserService()\n  }\n}\n","import { PermissionsService, PermissionStatus } from '@airgap/angular-core'\nimport { ElementRef, Injectable, Renderer2, RendererFactory2, ViewChild, Inject } from '@angular/core'\nimport { Platform } from '@ionic/angular'\nimport { Observable } from 'rxjs'\n\nimport workerJS from '../../../assets/workers/entropyCalculatorWorker'\nimport { Entropy, IEntropyGenerator } from '../entropy/IEntropyGenerator'\n\nimport { ErrorCategory, handleErrorLocal } from './../error-handler/error-handler.service'\nimport { CameraPreviewPlugin } from 'src/app/capacitor-plugins/definitions'\nimport { CAMERA_PREVIEW_PLUGIN } from 'src/app/capacitor-plugins/injection-tokens'\nconst blobURL = window.URL.createObjectURL(new Blob([workerJS]))\nconst entropyCalculatorWorker = new Worker(blobURL)\n\n@Injectable({ providedIn: 'root' })\nexport class CameraNativeService implements IEntropyGenerator {\n  @ViewChild('cameraCanvas') public cameraCanvas: ElementRef\n  public canvasElement: HTMLCanvasElement\n\n  private disabled = false\n\n  private cameraIsRunning = false // Prevent multiple start/stops of camera\n  private cameraIsTakingPhoto = false // Prevent stopping camera while picture is being taken\n\n  // entropy settings\n  private readonly VIDEO_SIZE = 50\n  private readonly VIDEO_QUALITY = 100\n  private readonly VIDEO_FREQUENCY = 2000\n\n  private readonly renderer: Renderer2\n  private readonly transparentHTMLClass = 'transparent'\n\n  private transparentTags: string[] = []\n  private get transparentElements(): any[] {\n    const elementsByTags = this.transparentTags\n      .map((tag) => Array.from(document.getElementsByTagName(tag)))\n      .reduce((flatten, toFlatten) => flatten.concat(toFlatten))\n\n    return [\n      ...elementsByTags,\n      document.body // fallback if no tags\n    ]\n  }\n\n  private collectedEntropyPercentage: number = 0\n\n  private handler: Function\n  private readonly entropyObservable: Observable<Entropy>\n\n  private cameraInterval: number\n\n  private cameraOptions: any\n\n  constructor(\n    private readonly platform: Platform,\n    private readonly rendererFactory: RendererFactory2,\n    private readonly permissionsService: PermissionsService,\n    @Inject(CAMERA_PREVIEW_PLUGIN) private readonly cameraPreview: CameraPreviewPlugin\n  ) {\n    this.renderer = this.rendererFactory.createRenderer(null, null)\n    this.entropyObservable = Observable.create((observer) => {\n      entropyCalculatorWorker.onmessage = (event) => {\n        this.collectedEntropyPercentage += event.data.entropyMeasure\n        observer.next({ entropyHex: event.data.entropyHex })\n      }\n\n      this.handler = (base64ImagePayload) => {\n        const buffer1 = this.arrayBufferFromBase64(base64ImagePayload)\n\n        entropyCalculatorWorker.postMessage(\n          {\n            entropyBuffer: buffer1\n          },\n          [buffer1]\n        )\n      }\n    })\n  }\n\n  public setTransparentElementsByTags(...tags: string[]) {\n    this.transparentTags = tags\n  }\n\n  public setCameraOptions(opts) {\n    this.cameraOptions = opts\n  }\n\n  public viewWillLeave() {\n    this.disabled = true\n    this.uninjectCSS()\n  }\n\n  public viewWillEnter() {\n    this.disabled = false\n  }\n\n  public async start(): Promise<void> {\n    this.disabled = false\n    this.collectedEntropyPercentage = 0\n    await this.platform.ready()\n\n    const permissionStatus = await this.permissionsService.hasCameraPermission()\n    if (permissionStatus !== PermissionStatus.GRANTED) {\n      return\n    }\n\n    return this.initCamera()\n  }\n\n  public getCollectedEntropyPercentage(): number {\n    return this.collectedEntropyPercentage / 6\n  }\n\n  public setVideoElement(element): void {\n    console.log('only used in browser', element)\n  }\n\n  public stop(): Promise<any> {\n    if (!this.cameraIsRunning) {\n      console.log('CAMERA ALREADY STOPPED, ABORTING')\n      this.uninjectCSS()\n\n      return Promise.reject(null)\n    }\n    // We need to delay the stopCamera call because it crashes on iOS\n    // if it is called while taking a photo\n    if (this.cameraIsTakingPhoto) {\n      this.uninjectCSS()\n\n      return new Promise((resolve) => {\n        setTimeout(() => {\n          console.log('CAMERA IS TAKING PHOTO, DELAYING')\n          resolve(this.stop())\n        }, 200)\n      })\n    }\n    this.uninjectCSS()\n    if (this.cameraInterval) {\n      clearInterval(this.cameraInterval)\n    }\n\n    return new Promise((_resolve, reject) => {\n      this.cameraPreview.stop().then(\n        () => {\n          this.cameraIsRunning = false\n          console.log('camera stopped.')\n        },\n        (error) => {\n          console.log('camera could not be stopped.')\n          reject(error)\n        }\n      )\n    })\n  }\n\n  public getEntropyUpdateObservable(): Observable<Entropy> {\n    return this.entropyObservable\n  }\n\n  private initCamera(): Promise<void> {\n    console.log('initCamera')\n\n    return new Promise((resolve) => {\n      this.cameraPreview\n        .start(\n          Object.assign(\n            {\n              camera: 'back',\n              disableExifHeaderStripping: true\n            } as any,\n            this.cameraOptions\n          )\n        )\n        .then(() => {\n          this.cameraIsRunning = true\n          return Promise.resolve()\n        })\n        .then(\n          () => {\n            if (this.disabled) {\n              console.log('not starting, disabled')\n              if (this.cameraIsRunning) {\n                this.stop().catch(handleErrorLocal(ErrorCategory.CORDOVA_PLUGIN))\n              }\n\n              return\n            }\n            console.log('camera started.')\n\n            // inject css now\n            this.injectCSS()\n\n            // start camera interval\n            this.cameraInterval = window.setInterval(() => {\n              this.cameraIsTakingPhoto = true\n              this.cameraPreview\n                .capture({\n                  width: this.VIDEO_SIZE,\n                  height: this.VIDEO_SIZE,\n                  quality: this.VIDEO_QUALITY\n                })\n                .then((result) => {\n                  this.cameraIsTakingPhoto = false\n                  if (this.handler) {\n                    this.handler(result.value)\n                  }\n                })\n                .catch((err) => {\n                  if (err === 'Camera not started') {\n                    if (this.cameraInterval) {\n                      clearInterval(this.cameraInterval)\n                    }\n                  }\n                })\n            }, this.VIDEO_FREQUENCY)\n\n            resolve()\n          },\n          (error) => {\n            console.warn('startCamera error: ', error)\n            if (error === 'Camera already started!') {\n              this.stop()\n                .then(() => {\n                  return this.initCamera()\n                })\n                .catch(handleErrorLocal(ErrorCategory.CORDOVA_PLUGIN))\n            }\n          }\n        )\n    })\n  }\n\n  private arrayBufferFromBase64(base64: string) {\n    const raw = window.atob(base64)\n    const buffer = new ArrayBuffer(raw.length * 2)\n    const bufView = new Uint8Array(buffer)\n\n    for (let i = 0; i < raw.length; i++) {\n      bufView[i] = raw.charCodeAt(i)\n    }\n\n    return buffer\n  }\n\n  private injectCSS() {\n    // inject css\n    this.transparentElements.forEach((element) => this.renderer.addClass(element, this.transparentHTMLClass))\n  }\n\n  private uninjectCSS() {\n    // removes injected css\n    this.transparentElements.forEach((element) => this.renderer.removeClass(element, this.transparentHTMLClass))\n  }\n}\n","import { PermissionsService, PermissionStatus } from '@airgap/angular-core'\nimport { Injectable } from '@angular/core'\nimport { Platform } from '@ionic/angular'\nimport { Observable } from 'rxjs'\n\nimport entropyCalculatorWorkerJS from '../../../assets/workers/entropyCalculatorWorker'\nimport { Entropy, IEntropyGenerator } from '../entropy/IEntropyGenerator'\n\ndeclare var window: any\n\nconst blobURL: string = window.URL.createObjectURL(new Blob([entropyCalculatorWorkerJS]))\nconst entropyCalculatorWorker: Worker = new Worker(blobURL)\n\n@Injectable({ providedIn: 'root' })\nexport class AudioNativeService implements IEntropyGenerator {\n  private readonly ENTROPY_SIZE: number = 4096\n\n  private collectedEntropyPercentage: number = 0\n\n  private handler\n  private readonly entropyObservable: Observable<Entropy>\n\n  constructor(private readonly platform: Platform, private readonly permissionsService: PermissionsService) {\n    this.entropyObservable = Observable.create((observer) => {\n      entropyCalculatorWorker.onmessage = (event) => {\n        this.collectedEntropyPercentage += event.data.entropyMeasure\n        observer.next({\n          entropyHex: event.data.entropyHex\n        })\n      }\n      this.handler = (audioStream) => {\n        const buffer1 = this.arrayBufferFromIntArray(audioStream.data)\n        entropyCalculatorWorker.postMessage(\n          {\n            entropyBuffer: buffer1\n          },\n          [buffer1]\n        )\n      }\n    })\n  }\n\n  public async start(): Promise<void> {\n    this.collectedEntropyPercentage = 0\n    await this.platform.ready()\n\n    const permissionStatus = await this.permissionsService.hasMicrophonePermission()\n    if (permissionStatus !== PermissionStatus.GRANTED) {\n      return\n    }\n\n    window.audioinput.start({\n      bufferSize: this.ENTROPY_SIZE\n    })\n\n    setTimeout(() => {\n      window.addEventListener('audioinput', this.handler)\n    }, 1000)\n\n    console.log('audioinput created.')\n  }\n\n  public stop(): Promise<void> {\n    return new Promise((resolve) => {\n      console.log('removed audioinput listener')\n      window.audioinput.stop()\n      window.removeEventListener('audioinput', this.handler)\n      resolve()\n    })\n  }\n\n  public getEntropyUpdateObservable(): Observable<Entropy> {\n    return this.entropyObservable\n  }\n\n  private arrayBufferFromIntArray(array: number[]) {\n    const buffer = new ArrayBuffer(array.length * 2)\n    const bufView = new Uint8Array(buffer)\n\n    for (let i = 0; i < array.length; i++) {\n      bufView[i] = Math.abs(array[i] * 10000)\n    }\n\n    return buffer\n  }\n\n  public getCollectedEntropyPercentage(): number {\n    return this.collectedEntropyPercentage / 150\n  }\n}\n","// self.importScripts('sha3.min.js') replaced to work in blob\nconst hashWorkerJS = `!function(){\"use strict\";function t(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function e(e,r,n){t.call(this,e,r,n)}var r=\"input is invalid type\",n=\"object\"==typeof window,i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&\"object\"==typeof self;!i.JS_SHA3_NO_NODE_JS&&\"object\"==typeof process&&process.versions&&process.versions.node?i=global:o&&(i=self);var s=!i.JS_SHA3_NO_COMMON_JS&&\"object\"==typeof module&&module.exports,a=\"function\"==typeof define&&define.amd,u=!i.JS_SHA3_NO_ARRAY_BUFFER&&\"undefined\"!=typeof ArrayBuffer,f=\"0123456789abcdef\".split(\"\"),c=[4,1024,262144,67108864],h=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],d=[224,256,384,512],l=[128,256],y=[\"hex\",\"buffer\",\"arrayBuffer\",\"array\",\"digest\"],b={128:168,256:136};!i.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}),!u||!i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return\"object\"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var A=function(e,r,n){return function(i){return new t(e,r,e).update(i)[n]()}},v=function(e,r,n){return function(i,o){return new t(e,r,o).update(i)[n]()}},B=function(t,e,r){return function(e,n,i,o){return S[\"cshake\"+t].update(e,n,i,o)[r]()}},g=function(t,e,r){return function(e,n,i,o){return S[\"kmac\"+t].update(e,n,i,o)[r]()}},w=function(t,e,r,n){for(var i=0;i<y.length;++i){var o=y[i];t[o]=e(r,n,o)}return t},_=function(e,r){var n=A(e,r,\"hex\");return n.create=function(){return new t(e,r,e)},n.update=function(t){return n.create().update(t)},w(n,A,e,r)},k=[{name:\"keccak\",padding:[1,256,65536,16777216],bits:d,createMethod:_},{name:\"sha3\",padding:[6,1536,393216,100663296],bits:d,createMethod:_},{name:\"shake\",padding:[31,7936,2031616,520093696],bits:l,createMethod:function(e,r){var n=v(e,r,\"hex\");return n.create=function(n){return new t(e,r,n)},n.update=function(t,e){return n.create(e).update(t)},w(n,v,e,r)}},{name:\"cshake\",padding:c,bits:l,createMethod:function(e,r){var n=b[e],i=B(e,0,\"hex\");return i.create=function(i,o,s){return o||s?new t(e,r,i).bytepad([o,s],n):S[\"shake\"+e].create(i)},i.update=function(t,e,r,n){return i.create(e,r,n).update(t)},w(i,B,e,r)}},{name:\"kmac\",padding:c,bits:l,createMethod:function(t,r){var n=b[t],i=g(t,0,\"hex\");return i.create=function(i,o,s){return new e(t,r,o).bytepad([\"KMAC\",s],n).bytepad([i],n)},i.update=function(t,e,r,n){return i.create(t,r,n).update(e)},w(i,g,t,r)}}],S={},C=[],x=0;x<k.length;++x)for(var m=k[x],O=m.bits,z=0;z<O.length;++z){var N=m.name+\"_\"+O[z];if(C.push(N),S[N]=m.createMethod(O[z],m.padding),\"sha3\"!==m.name){var j=m.name+O[z];C.push(j),S[j]=S[N]}}t.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if(\"string\"!==n){if(\"object\"!==n)throw r;if(null===t)throw r;if(u&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||u&&ArrayBuffer.isView(t)))throw r;e=!0}for(var i,o,s=this.blocks,a=this.byteCount,f=t.length,c=this.blockCount,p=0,d=this.s;p<f;){if(this.reset)for(this.reset=!1,s[0]=this.block,i=1;i<c+1;++i)s[i]=0;if(e)for(i=this.start;p<f&&i<a;++p)s[i>>2]|=t[p]<<h[3&i++];else for(i=this.start;p<f&&i<a;++p)(o=t.charCodeAt(p))<128?s[i>>2]|=o<<h[3&i++]:o<2048?(s[i>>2]|=(192|o>>6)<<h[3&i++],s[i>>2]|=(128|63&o)<<h[3&i++]):o<55296||o>=57344?(s[i>>2]|=(224|o>>12)<<h[3&i++],s[i>>2]|=(128|o>>6&63)<<h[3&i++],s[i>>2]|=(128|63&o)<<h[3&i++]):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++p)),s[i>>2]|=(240|o>>18)<<h[3&i++],s[i>>2]|=(128|o>>12&63)<<h[3&i++],s[i>>2]|=(128|o>>6&63)<<h[3&i++],s[i>>2]|=(128|63&o)<<h[3&i++]);if(this.lastByteIndex=i,i>=a){for(this.start=i-a,this.block=s[c],i=0;i<c;++i)d[i]^=s[i];J(d),this.reset=!0}else this.start=i}return this}},t.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},t.prototype.encodeString=function(t){var e,n=typeof t;if(\"string\"!==n){if(\"object\"!==n)throw r;if(null===t)throw r;if(u&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||u&&ArrayBuffer.isView(t)))throw r;e=!0}var i=0,o=t.length;if(e)i=o;else for(var s=0;s<t.length;++s){var a=t.charCodeAt(s);a<128?i+=1:a<2048?i+=2:a<55296||a>=57344?i+=3:(a=65536+((1023&a)<<10|1023&t.charCodeAt(++s)),i+=4)}return i+=this.encode(8*i),this.update(t),i},t.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,o=[];return o.length=i,this.update(o),this},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];J(n)}},t.prototype.toString=t.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=\"\";s<n;){for(o=0;o<e&&s<n;++o,++s)t=r[o],a+=f[t>>4&15]+f[15&t]+f[t>>12&15]+f[t>>8&15]+f[t>>20&15]+f[t>>16&15]+f[t>>28&15]+f[t>>24&15];s%e==0&&(J(r),o=0)}return i&&(t=r[o],a+=f[t>>4&15]+f[15&t],i>1&&(a+=f[t>>12&15]+f[t>>8&15]),i>2&&(a+=f[t>>20&15]+f[t>>16&15])),a},t.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(t);s<n;){for(o=0;o<e&&s<n;++o,++s)u[s]=r[o];s%e==0&&J(r)}return i&&(u[o]=r[o],t=t.slice(0,a)),t},t.prototype.buffer=t.prototype.arrayBuffer,t.prototype.digest=t.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,u=[];a<i;){for(s=0;s<r&&a<i;++s,++a)t=a<<2,e=n[s],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;a%r==0&&J(n)}return o&&(t=a<<2,e=n[s],u[t]=255&e,o>1&&(u[t+1]=e>>8&255),o>2&&(u[t+2]=e>>16&255)),u},(e.prototype=new t).finalize=function(){return this.encode(this.outputBits,!0),t.prototype.finalize.call(this)};var J=function(t){var e,r,n,i,o,s,a,u,f,c,h,d,l,y,b,A,v,B,g,w,_,k,S,C,x,m,O,z,N,j,J,M,H,I,R,E,U,V,F,D,W,Y,K,q,G,L,P,Q,T,X,Z,$,tt,et,rt,nt,it,ot,st,at,ut,ft,ct;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],f=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],h=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|a>>>31),r=(l=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(u<<1|f>>>31),r=o^(f<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(c<<1|h>>>31),r=a^(h<<1|c>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(d<<1|l>>>31),r=f^(l<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=c^(i<<1|o>>>31),r=h^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,y=t[0],b=t[1],L=t[11]<<4|t[10]>>>28,P=t[10]<<4|t[11]>>>28,z=t[20]<<3|t[21]>>>29,N=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,Y=t[40]<<18|t[41]>>>14,K=t[41]<<18|t[40]>>>14,I=t[2]<<1|t[3]>>>31,R=t[3]<<1|t[2]>>>31,A=t[13]<<12|t[12]>>>20,v=t[12]<<12|t[13]>>>20,Q=t[22]<<10|t[23]>>>22,T=t[23]<<10|t[22]>>>22,j=t[33]<<13|t[32]>>>19,J=t[32]<<13|t[33]>>>19,ft=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,E=t[14]<<6|t[15]>>>26,U=t[15]<<6|t[14]>>>26,B=t[25]<<11|t[24]>>>21,g=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,Z=t[35]<<15|t[34]>>>17,M=t[45]<<29|t[44]>>>3,H=t[44]<<29|t[45]>>>3,C=t[6]<<28|t[7]>>>4,x=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,V=t[26]<<25|t[27]>>>7,F=t[27]<<25|t[26]>>>7,w=t[36]<<21|t[37]>>>11,_=t[37]<<21|t[36]>>>11,$=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,q=t[8]<<27|t[9]>>>5,G=t[9]<<27|t[8]>>>5,m=t[18]<<20|t[19]>>>12,O=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,D=t[38]<<8|t[39]>>>24,W=t[39]<<8|t[38]>>>24,k=t[48]<<14|t[49]>>>18,S=t[49]<<14|t[48]>>>18,t[0]=y^~A&B,t[1]=b^~v&g,t[10]=C^~m&z,t[11]=x^~O&N,t[20]=I^~E&V,t[21]=R^~U&F,t[30]=q^~L&Q,t[31]=G^~P&T,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=A^~B&w,t[3]=v^~g&_,t[12]=m^~z&j,t[13]=O^~N&J,t[22]=E^~V&D,t[23]=U^~F&W,t[32]=L^~Q&X,t[33]=P^~T&Z,t[42]=nt^~ot&at,t[43]=it^~st&ut,t[4]=B^~w&k,t[5]=g^~_&S,t[14]=z^~j&M,t[15]=N^~J&H,t[24]=V^~D&Y,t[25]=F^~W&K,t[34]=Q^~X&$,t[35]=T^~Z&tt,t[44]=ot^~at&ft,t[45]=st^~ut&ct,t[6]=w^~k&y,t[7]=_^~S&b,t[16]=j^~M&C,t[17]=J^~H&x,t[26]=D^~Y&I,t[27]=W^~K&R,t[36]=X^~$&q,t[37]=Z^~tt&G,t[46]=at^~ft&et,t[47]=ut^~ct&rt,t[8]=k^~y&A,t[9]=S^~b&v,t[18]=M^~C&m,t[19]=H^~x&O,t[28]=Y^~I&E,t[29]=K^~R&U,t[38]=$^~q&L,t[39]=tt^~G&P,t[48]=ft^~et&nt,t[49]=ct^~rt&it,t[0]^=p[n],t[1]^=p[n+1]};if(s)module.exports=S;else{for(x=0;x<C.length;++x)i[C[x]]=S[C[x]];a&&define(function(){return S})}}();\nlet hashHex = ''\n\nself.onmessage = function (event) {\n  let hash = sha3_256.create()\n  hash.update(hashHex)\n\n  if (event.data.call === 'init') {\n    console.log('init hash...', event.data.secureRandom.length)\n    hash.update(event.data.secureRandom)\n  }\n\n  if (event.data.call === 'update') {\n    hash.update(event.data.entropyHex)\n  }\n\n  if (event.data.call === 'digest') {\n    console.log('digesting hash...')\n    self.postMessage({hash: hash.hex()})\n  }\n\n  hashHex = hash.hex()\n}\n`\n\nexport default hashWorkerJS\n","import { flattened } from '@airgap/angular-core'\nimport { AccountShareResponse, AirGapWallet, AirGapWalletStatus, IACMessageDefinitionObjectV3, IACMessageType } from '@airgap/coinlib-core'\nimport { generateId } from '@airgap/coinlib-core/serializer-v3/utils/generateId'\n\nimport { Injectable } from '@angular/core'\n\nimport { MnemonicSecret } from '../../models/secret'\nimport { SecretsService } from '../secrets/secrets.service'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShareUrlService {\n  constructor(private readonly secretsService: SecretsService) {\n    //\n  }\n\n  public async generateShareWalletURL(wallet: AirGapWallet): Promise<IACMessageDefinitionObjectV3[]> {\n    const secret: MnemonicSecret | undefined = this.secretsService.findByPublicKey(wallet.publicKey)\n\n    const accountShareResponse: AccountShareResponse = {\n      publicKey: wallet.publicKey,\n      isExtendedPublicKey: wallet.isExtendedPublicKey,\n      derivationPath: wallet.derivationPath,\n      masterFingerprint: wallet.masterFingerprint,\n      isActive: wallet.status === AirGapWalletStatus.ACTIVE,\n      groupId: secret.fingerprint ?? '',\n      groupLabel: secret.label ?? ''\n    }\n\n    const deserializedTxSigningRequest: IACMessageDefinitionObjectV3 = {\n      id: generateId(8),\n      protocol: wallet.protocol.identifier,\n      type: IACMessageType.AccountShareResponse,\n      payload: accountShareResponse\n    }\n\n    if (deserializedTxSigningRequest.type === IACMessageType.AccountShareResponse) {\n      deserializedTxSigningRequest.payload\n    }\n\n    return [deserializedTxSigningRequest]\n  }\n\n  public async generateShareSecretsURL(secrets: MnemonicSecret[]): Promise<IACMessageDefinitionObjectV3[]> {\n    const deserializedTxSigningRequests: IACMessageDefinitionObjectV3[] = flattened(\n      secrets.map((secret: MnemonicSecret) => {\n        return secret.wallets\n          .filter((wallet: AirGapWallet) => wallet.status !== AirGapWalletStatus.DELETED)\n          .map((wallet: AirGapWallet) => {\n            const accountShareResponse: AccountShareResponse = {\n              publicKey: wallet.publicKey,\n              isExtendedPublicKey: wallet.isExtendedPublicKey,\n              derivationPath: wallet.derivationPath,\n              masterFingerprint: wallet.masterFingerprint,\n              isActive: wallet.status === AirGapWalletStatus.ACTIVE,\n              groupId: secret.fingerprint,\n              groupLabel: secret.label\n            }\n\n            return {\n              id: generateId(8),\n              protocol: wallet.protocol.identifier,\n              type: IACMessageType.AccountShareResponse,\n              payload: accountShareResponse\n            }\n          })\n      })\n    )\n\n    return deserializedTxSigningRequests\n  }\n}\n","import { PermissionsService } from '@airgap/angular-core'\nimport { RendererFactory2, Injectable, Inject } from '@angular/core'\nimport { Platform } from '@ionic/angular'\n\nimport { IEntropyGenerator } from '../entropy/IEntropyGenerator'\n\nimport { CameraBrowserService } from './camera.browser.service'\nimport { CameraNativeService } from './camera.native.service'\nimport { CAMERA_PREVIEW_PLUGIN } from 'src/app/capacitor-plugins/injection-tokens'\nimport { CameraPreviewPlugin } from 'src/app/capacitor-plugins/definitions'\n\n@Injectable()\nexport class CameraFactoryDepHolder {\n  constructor(\n    readonly platform: Platform,\n    readonly rendererFactory: RendererFactory2,\n    readonly permissionsService: PermissionsService,\n    @Inject(CAMERA_PREVIEW_PLUGIN) readonly cameraPreview: CameraPreviewPlugin\n  ) {}\n}\n\nexport function CameraFactory(depHolder: CameraFactoryDepHolder): IEntropyGenerator {\n  if (depHolder.platform.is('hybrid')) {\n    return new CameraNativeService(depHolder.platform, depHolder.rendererFactory, depHolder.permissionsService, depHolder.cameraPreview)\n  } else {\n    return new CameraBrowserService()\n  }\n}\n","// https://stackoverflow.com/a/8472700/4790610\nexport function generateGUID(): string {\n  // tslint:disable\n  if (typeof window.crypto !== 'undefined' && typeof window.crypto.getRandomValues !== 'undefined') {\n    // If we have a cryptographically secure PRNG, use that\n    // https://stackoverflow.com/questions/6906916/collisions-when-generating-uuids-in-javascript\n    const buf = new Uint16Array(8)\n    window.crypto.getRandomValues(buf)\n    const S4 = function (num) {\n      let ret = num.toString(16)\n      while (ret.length < 4) {\n        ret = '0' + ret\n      }\n\n      return ret\n    }\n\n    return S4(buf[0]) + S4(buf[1]) + '-' + S4(buf[2]) + '-' + S4(buf[3]) + '-' + S4(buf[4]) + '-' + S4(buf[5]) + S4(buf[6]) + S4(buf[7])\n  } else {\n    // Otherwise, just use Math.random\n    // https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      const r = (Math.random() * 16) | 0\n      const v = c === 'x' ? r : (r & 0x3) | 0x8\n\n      return v.toString(16)\n    })\n  }\n  // tslint:enable\n}\n\nexport function to<T, U = Error>(promise: Promise<T>, errorExt?: object): Promise<[U | null, T | undefined]> {\n  return promise\n    .then<[null, T]>((data: T) => [null, data])\n    .catch<[U, undefined]>((err: U) => {\n      if (errorExt) {\n        Object.assign(err, errorExt)\n      }\n\n      return [err, undefined]\n    })\n}\n\nexport function partition<T>(array: T[], isValid: (element: T) => boolean): [T[], T[]] {\n  const pass: T[] = []\n  const fail: T[] = []\n  array.forEach((element: T) => {\n    if (isValid(element)) {\n      pass.push(element)\n    } else {\n      fail.push(element)\n    }\n  })\n\n  return [pass, fail]\n}\n\nfunction readParameterFromUrl(url: string, parameter: string): string {\n  try {\n    const parsedUrl: URL = new URL(url)\n\n    return parsedUrl.searchParams.get(parameter) || ''\n  } catch (error) {\n    return url\n  }\n}\n\nexport function parseIACUrl(url: string | string[], parameter: string): string[] {\n  let result: string[] | undefined\n  if (Array.isArray(url)) {\n    result = url.map((chunk: string) => readParameterFromUrl(chunk, parameter))\n  } else {\n    try {\n      result = readParameterFromUrl(url, parameter).split(',')\n    } catch (error) {\n      result = url.split(',')\n    }\n  }\n\n  // In case one of the elements contains a chunked string, we have to flatten it.\n  result = result.reduce((pv: string[], cv: string) => [...pv, ...cv.split(',')], [])\n\n  return result.filter((el: string) => el !== '')\n}\n\nexport function serializedDataToUrlString(data: string | string[], host: string = 'airgap-wallet://', parameter: string = 'd'): string {\n  return `${host}?${parameter}=${Array.isArray(data) ? data.join(',') : data}`\n}\n\nexport function toBoolean(value: unknown): boolean {\n  // All falsy and truthy values can be converted to a real boolean by using a double negative (!!)\n  return !!value\n}\n\nexport function assertNever(name: string, arg: never): never {\n  throw new Error(`${name} ${arg}`)\n}\n\nexport const toHexString = (bytes: Uint8Array) => bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '')\n","import { Location } from '@angular/common'\nimport { Injectable } from '@angular/core'\nimport { NavigationBehaviorOptions, Router } from '@angular/router'\nimport { NavController } from '@ionic/angular'\n\nimport { Identifiable } from '../../models/identifiable'\n\ninterface State {\n  // tslint:disable-next-line: no-any\n  [key: string]: any\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NavigationService {\n  private state: State = {}\n\n  constructor(private readonly router: Router, private readonly location: Location, private readonly navCtrl: NavController) {}\n\n  public async routeWithIdentifiableObject(router: Router, route: string, object: Identifiable): Promise<boolean> {\n    return router.navigate([route, object.getIdentifier()])\n  }\n\n  public route(route: string): Promise<boolean> {\n    return this.router.navigateByUrl(route)\n  }\n\n  public async routeWithState(route: string, object: State, options?: NavigationBehaviorOptions): Promise<boolean> {\n    this.state = object\n\n    return this.router.navigateByUrl(route, options)\n  }\n\n  public back(): void {\n    this.location.back()\n  }\n\n  public routeBack(route: string): void {\n    this.navCtrl.navigateBack(route)\n  }\n\n  public getState(): State {\n    return this.state\n  }\n\n  public routeToAccountsTab(clearStack: boolean = false): Promise<boolean> {\n    return this.router.navigateByUrl('/tabs/tab-accounts', { replaceUrl: clearStack })\n  }\n\n  public routeToScanTab(clearStack: boolean = false): Promise<boolean> {\n    return this.router.navigateByUrl('/tabs/tab-scan', { replaceUrl: clearStack })\n  }\n\n  public routeToSettingsTab(clearStack: boolean = false): Promise<boolean> {\n    return this.router.navigateByUrl('/tabs/tab-settings', { replaceUrl: clearStack })\n  }\n}\n","import { DeeplinkService } from '@airgap/angular-core'\nimport { Injectable } from '@angular/core'\nimport { AirGapWallet, UnsignedTransaction, MessageSignResponse, IACMessageDefinitionObjectV3 } from '@airgap/coinlib-core'\n\nimport { assertNever } from '../../utils/utils'\nimport { ErrorCategory, handleErrorLocal } from '../error-handler/error-handler.service'\nimport { NavigationService } from '../navigation/navigation.service'\nimport { InteractionType, VaultStorageKey, VaultStorageService } from '../storage/storage.service'\n\nexport enum InteractionCommunicationType {\n  QR = 'qr',\n  DEEPLINK = 'deeplink'\n}\n\nexport enum InteractionOperationType {\n  WALLET_SYNC = 'walletSync',\n  TRANSACTION_BROADCAST = 'transactionBroadcast',\n  MESSAGE_SIGN_REQUEST = 'messageSignRequest'\n}\n\nexport interface IInteractionOptions {\n  operationType: InteractionOperationType\n  iacMessage: IACMessageDefinitionObjectV3[] // remove string\n  communicationType?: InteractionCommunicationType\n  signedTxs?: string[]\n  wallets?: AirGapWallet[]\n  transactions?: UnsignedTransaction[]\n  messageSignResponse?: MessageSignResponse\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class InteractionService {\n  constructor(\n    private readonly navigationService: NavigationService,\n    private readonly deepLinkService: DeeplinkService,\n    private readonly storageService: VaultStorageService\n  ) {}\n\n  public async startInteraction(interactionOptions: IInteractionOptions): Promise<void> {\n    const interactionType = await this.storageService.get(VaultStorageKey.INTERACTION_TYPE)\n\n    if (interactionOptions.communicationType) {\n      if (interactionType === InteractionType.UNDETERMINED) {\n        this.goToInteractionSelectionSettingsPage(interactionOptions)\n      }\n      if (interactionOptions.communicationType === InteractionCommunicationType.DEEPLINK) {\n        this.startDeeplink(interactionOptions.iacMessage)\n      } else if (interactionOptions.communicationType === InteractionCommunicationType.QR) {\n        this.navigateToPageByOperationType(interactionOptions)\n      }\n    } else {\n      switch (interactionType) {\n        case InteractionType.UNDETERMINED:\n          this.goToInteractionSelectionPage(interactionOptions)\n          break\n        case InteractionType.ALWAYS_ASK:\n          this.goToInteractionSelectionPage(interactionOptions)\n          break\n        case InteractionType.DEEPLINK:\n          this.startDeeplink(interactionOptions.iacMessage)\n          break\n        case InteractionType.QR_CODE:\n          this.navigateToPageByOperationType(interactionOptions)\n          break\n        default:\n      }\n    }\n  }\n\n  private goToInteractionSelectionPage(interactionOptions: IInteractionOptions): void {\n    this.navigationService\n      .routeWithState('/interaction-selection', { interactionOptions })\n      .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  private goToInteractionSelectionSettingsPage(interactionOptions: IInteractionOptions): void {\n    this.navigationService\n      .routeWithState('/interaction-selection-settings', { interactionOptions })\n      .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  private navigateToPageByOperationType(interactionOptions: IInteractionOptions): void {\n    if (interactionOptions.operationType === InteractionOperationType.WALLET_SYNC) {\n      this.navigationService\n        .routeWithState('/account-share', { interactionUrl: interactionOptions.iacMessage })\n        .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n    } else if (interactionOptions.operationType === InteractionOperationType.TRANSACTION_BROADCAST) {\n      this.navigationService\n        .routeWithState('/transaction-signed', {\n          interactionUrl: interactionOptions.iacMessage,\n          wallets: interactionOptions.wallets,\n          signedTxs: interactionOptions.signedTxs,\n          transactions: interactionOptions.transactions,\n          translationKey: 'transaction-signed'\n        })\n        .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n    } else if (interactionOptions.operationType === InteractionOperationType.MESSAGE_SIGN_REQUEST) {\n      this.navigationService\n        .routeWithState('/transaction-signed', {\n          interactionUrl: interactionOptions.iacMessage,\n          translationKey: 'message-signing-request',\n          messageSignResponse: interactionOptions.messageSignResponse\n        })\n        .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n    } else {\n      return assertNever('INVALID_OPERATION_TYPE', interactionOptions.operationType)\n    }\n  }\n\n  private async startDeeplink(iacMessage: IACMessageDefinitionObjectV3[]): Promise<void> {\n    this.deepLinkService\n      .sameDeviceDeeplink(iacMessage)\n      .then(() => {\n        this.navigationService.routeToAccountsTab().catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n      })\n      .catch(handleErrorLocal(ErrorCategory.DEEPLINK_SERVICE))\n  }\n}\n","import { NgModule } from '@angular/core'\nimport { PreloadAllModules, RouterModule, Routes } from '@angular/router'\n\nconst routes: Routes = [\n  { path: '', loadChildren: () => import('./pages/tabs/tabs.module').then((m) => m.TabsPageModule) },\n  { path: 'tab-accounts', loadChildren: () => import('./pages/tab-accounts/tab-accounts.module').then((m) => m.TabAccountsPageModule) },\n  { path: 'tab-scan', loadChildren: () => import('./pages/tab-scan/tab-scan.module').then((m) => m.TabScanPageModule) },\n  { path: 'tab-settings', loadChildren: () => import('./pages/tab-settings/tab-settings.module').then((m) => m.TabSettingsPageModule) },\n  { path: 'account-add', loadChildren: () => import('./pages/account-add/account-add.module').then((m) => m.AccountAddPageModule) },\n  { path: 'secret-setup', loadChildren: () => import('./pages/secret-setup/secret-setup.module').then((m) => m.SecretSetupPageModule) },\n  {\n    path: 'secret-setup/initial',\n    loadChildren: () => import('./pages/secret-setup/secret-setup.module').then((m) => m.SecretSetupPageModule),\n    data: { initial: true }\n  },\n  { path: 'secret-import', loadChildren: () => import('./pages/secret-import/secret-import.module').then((m) => m.SecretImportPageModule) },\n  { path: 'secret-add', loadChildren: () => import('./pages/secret-add/secret-add.module').then((m) => m.SecretAddPageModule) },\n  { path: 'secret-edit', loadChildren: () => import('./pages/secret-edit/secret-edit.module').then((m) => m.SecretEditPageModule) },\n  { path: 'warning-modal', loadChildren: () => import('./pages/warning-modal/warning-modal.module').then((m) => m.WarningModalPageModule) },\n  { path: 'introduction', loadChildren: () => import('./pages/introduction/introduction.module').then((m) => m.IntroductionPageModule) },\n  {\n    path: 'distribution-onboarding',\n    loadChildren: () =>\n      import('./pages/distribution-onboarding/distribution-onboarding.module').then((m) => m.DistributionOnboardingPageModule)\n  },\n  { path: 'account-share', loadChildren: () => import('./pages/account-share/account-share.module').then((m) => m.AccountSharePageModule) },\n  {\n    path: 'account-share-select',\n    loadChildren: () => import('./pages/account-share-select/account-share-select.module').then((m) => m.AccountShareSelectPageModule)\n  },\n  {\n    path: 'account-address',\n    loadChildren: () => import('./pages/account-address/account-address.module').then((m) => m.AccountAddressPageModule)\n  },\n  {\n    path: 'secret-generate',\n    loadChildren: () => import('./pages/secret-generate/secret-generate.module').then((m) => m.SecretGeneratePageModule)\n  },\n  { path: 'secret-rules', loadChildren: () => import('./pages/secret-rules/secret-rules.module').then((m) => m.SecretRulesPageModule) },\n  { path: 'secret-show', loadChildren: () => import('./pages/secret-show/secret-show.module').then((m) => m.SecretShowPageModule) },\n  {\n    path: 'secret-validate',\n    loadChildren: () => import('./pages/secret-validate/secret-validate.module').then((m) => m.SecretValidatePageModule)\n  },\n  { path: 'secret-edit', loadChildren: () => import('./pages/secret-edit/secret-edit.module').then((m) => m.SecretEditPageModule) },\n  { path: 'about', loadChildren: () => import('./pages/about/about.module').then((m) => m.AboutPageModule) },\n  {\n    path: 'interaction-selection',\n    loadChildren: () => import('./pages/interaction-selection/interaction-selection.module').then((m) => m.InteractionSelectionPageModule)\n  },\n  {\n    path: 'interaction-selection-settings',\n    loadChildren: () =>\n      import('./pages/interaction-selection-settings/interaction-selection-settings.module').then(\n        (m) => m.InteractionSelectionSettingsPageModule\n      )\n  },\n  {\n    path: 'local-authentication-onboarding',\n    loadChildren: () =>\n      import('./pages/local-authentication-onboarding/local-authentication-onboarding.module').then(\n        (m) => m.LocalAuthenticationOnboardingPageModule\n      )\n  },\n  {\n    path: 'secret-generate-onboarding',\n    loadChildren: () =>\n      import('./pages/secret-generate-onboarding/secret-generate-onboarding.module').then((m) => m.SecretGenerateOnboardingPageModule)\n  },\n  {\n    path: 'social-recovery-import',\n    loadChildren: () => import('./pages/social-recovery-import/social-recovery-import.module').then((m) => m.SocialRecoveryImportPageModule)\n  },\n  {\n    path: 'social-recovery-setup',\n    loadChildren: () => import('./pages/social-recovery-setup/social-recovery-setup.module').then((m) => m.SocialRecoverySetupPageModule)\n  },\n  {\n    path: 'social-recovery-show-share',\n    loadChildren: () =>\n      import('./pages/social-recovery-show-share/social-recovery-show-share.module').then((m) => m.SocialRecoveryShowSharePageModule)\n  },\n  {\n    path: 'social-recovery-validate-share',\n    loadChildren: () =>\n      import('./pages/social-recovery-validate-share/social-recovery-validate-share.module').then(\n        (m) => m.SocialRecoveryValidateSharePageModule\n      )\n  },\n  {\n    path: 'deserialized-detail',\n    loadChildren: () => import('./pages/deserialized-detail/deserialized-detail.module').then((m) => m.DeserializedDetailPageModule)\n  },\n  {\n    path: 'transaction-signed',\n    loadChildren: () => import('./pages/transaction-signed/transaction-signed.module').then((m) => m.TransactionSignedPageModule)\n  },\n  {\n    path: 'bip85-generate',\n    loadChildren: () => import('./pages/bip85-generate/bip85-generate.module').then((m) => m.Bip85GeneratePageModule)\n  },\n  {\n    path: 'bip85-show',\n    loadChildren: () => import('./pages/bip85-show/bip85-show.module').then((m) => m.Bip85ShowPageModule)\n  },\n  {\n    path: 'select-account',\n    loadChildren: () => import('./pages/select-account/select-account.module').then((m) => m.SelectAccountPageModule)\n  },\n  {\n    path: 'qr-settings',\n    loadChildren: () => import('./pages/qr-settings/qr-settings.module').then((m) => m.QrSettingsPageModule)\n  },\n  {\n    path: 'migration',\n    loadChildren: () => import('./pages/migration/migration.module').then((m) => m.MigrationPageModule)\n  },\n  {\n    path: 'danger-zone',\n    loadChildren: () => import('./pages/danger-zone/danger-zone.module').then((m) => m.DangerZonePageModule)\n  },\n  {\n    path: 'secret-generate-dice',\n    loadChildren: () => import('./pages/secret-generate-dice/secret-generate-dice.module').then((m) => m.SecretGenerateDicePageModule)\n  },\n  {\n    path: 'secret-generate-coin-flip',\n    loadChildren: () =>\n      import('./pages/secret-generate-coin-flip/secret-generate-coin-flip.module').then((m) => m.SecretGenerateCoinFlipPageModule)\n  },\n  {\n    path: 'error-history',\n    loadChildren: () => import('./pages/error-history/error-history.module').then((m) => m.ErrorHistoryPageModule)\n  }\n]\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { preloadingStrategy: PreloadAllModules, relativeLinkResolution: 'corrected' })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n","import { Platform } from '@ionic/angular'\nimport { DeviceMotion } from '@ionic-native/device-motion/ngx'\n\nimport { DummyEntropyService } from '../entropy/dummy.entropy.service'\nimport { IEntropyGenerator } from '../entropy/IEntropyGenerator'\n\nimport { GyroscopeNativeService } from './gyroscope.native.service'\n\nexport interface GyroscopeService {}\n\nexport function GyroscopeServiceFactory(platform: Platform, deviceMotion: DeviceMotion): IEntropyGenerator {\n  if (platform.is('hybrid')) {\n    return new GyroscopeNativeService(platform, deviceMotion)\n  } else {\n    return new DummyEntropyService()\n  }\n}\n","import {\n  AppConfig,\n  APP_CONFIG,\n  BaseIACService,\n  ClipboardService,\n  DeeplinkService,\n  IACMessageTransport,\n  ProtocolService,\n  RelayMessage,\n  UiEventElementsService,\n  UiEventService\n} from '@airgap/angular-core'\nimport {\n  AirGapWallet,\n  AirGapWalletStatus,\n  IACMessageDefinitionObjectV3,\n  IACMessageType,\n  MainProtocolSymbols,\n  MessageSignRequest,\n  RawBitcoinSegwitTransaction,\n  UnsignedTransaction\n} from '@airgap/coinlib-core'\nimport { Inject, Injectable } from '@angular/core'\n\nimport { SignTransactionInfo } from '../../models/sign-transaction-info'\nimport { ErrorCategory, handleErrorLocal } from '../error-handler/error-handler.service'\nimport { InteractionOperationType, InteractionService } from '../interaction/interaction.service'\nimport { NavigationService } from '../navigation/navigation.service'\nimport { SecretsService } from '../secrets/secrets.service'\nimport * as bitcoinJS from 'bitcoinjs-lib'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class IACService extends BaseIACService {\n  constructor(\n    public readonly uiEventService: UiEventService,\n    public readonly uiEventElementsService: UiEventElementsService,\n    public readonly deeplinkService: DeeplinkService,\n    private readonly protocolService: ProtocolService,\n    protected readonly clipboard: ClipboardService,\n    private readonly navigationService: NavigationService,\n    private readonly secretsService: SecretsService,\n    private readonly interactionService: InteractionService,\n    @Inject(APP_CONFIG) appConfig: AppConfig\n  ) {\n    super(uiEventElementsService, clipboard, secretsService.isReady(), [], deeplinkService, appConfig)\n\n    this.serializerMessageHandlers[IACMessageType.TransactionSignRequest] = this.handleUnsignedTransactions.bind(this)\n    this.serializerMessageHandlers[IACMessageType.MessageSignRequest] = this.handleMessageSignRequest.bind(this)\n  }\n\n  public async relay(data: RelayMessage): Promise<void> {\n    this.interactionService.startInteraction({\n      operationType: InteractionOperationType.WALLET_SYNC,\n      iacMessage: (data as any).messages ?? (data as any).rawString // TODO: Fix types\n    })\n  }\n\n  private async handleUnsignedTransactions(\n    signTransactionRequests: IACMessageDefinitionObjectV3[],\n    _transport: IACMessageTransport,\n    scanAgainCallback: Function\n  ): Promise<boolean> {\n    const transactionInfos: SignTransactionInfo[] = (\n      await Promise.all(\n        signTransactionRequests.map(\n          async (signTransactionRequest): Promise<SignTransactionInfo> => {\n            const unsignedTransaction: UnsignedTransaction = signTransactionRequest.payload as UnsignedTransaction\n\n            let correctWallet = this.secretsService.findWalletByPublicKeyAndProtocolIdentifier(\n              unsignedTransaction.publicKey,\n              signTransactionRequest.protocol\n            )\n\n            if (!correctWallet && signTransactionRequest.protocol === MainProtocolSymbols.BTC_SEGWIT) {\n              const transaction: RawBitcoinSegwitTransaction = unsignedTransaction.transaction\n              const decodedPSBT = bitcoinJS.Psbt.fromHex(transaction.psbt)\n                for (const input of decodedPSBT.data.inputs) {\n                for (const derivation of input.bip32Derivation) {\n                  const masterFingerprint = derivation.masterFingerprint.toString('hex')\n\n                  correctWallet = this.secretsService.findWalletByFingerprintDerivationPathAndProtocolIdentifier(\n                    masterFingerprint,\n                    signTransactionRequest.protocol,\n                    derivation.path,\n                    derivation.pubkey\n                  )\n                  if (correctWallet) {\n                    break\n                  }\n                }\n                if (correctWallet) {\n                  break\n                }\n              }\n\n              if (correctWallet && !unsignedTransaction.publicKey) {\n                unsignedTransaction.publicKey = correctWallet.publicKey // PSBT txs don't include a public key, so we need to set it\n              }\n            }\n\n            if (correctWallet) {\n              await this.activateWallet(correctWallet)\n            }\n\n            // If we can't find a wallet for a protocol, we will try to find the \"base\" wallet and then create a new\n            // wallet with the right protocol. This way we can sign all ERC20 transactions, but show the right amount\n            // and fee for all tokens we support.\n            if (!correctWallet) {\n              const baseWallet: AirGapWallet | undefined = this.secretsService.findBaseWalletByPublicKeyAndProtocolIdentifier(\n                unsignedTransaction.publicKey,\n                signTransactionRequest.protocol\n              )\n\n              if (baseWallet) {\n                await this.activateWallet(baseWallet)\n                // If the protocol is not supported, use the base protocol for signing\n                const protocol = await this.protocolService.getProtocol(signTransactionRequest.protocol)\n                try {\n                  correctWallet = new AirGapWallet(\n                    protocol,\n                    baseWallet.publicKey,\n                    baseWallet.isExtendedPublicKey,\n                    baseWallet.derivationPath,\n                    baseWallet.masterFingerprint,\n                    baseWallet.status\n                  )\n                  correctWallet.addresses = baseWallet.addresses\n                } catch (e) {\n                  if (e.message === 'PROTOCOL_NOT_SUPPORTED') {\n                    correctWallet = baseWallet\n                  }\n                }\n              }\n            }\n\n            return {\n              wallet: correctWallet,\n              signTransactionRequest\n            }\n          }\n        )\n      )\n    ).filter((signTransactionDetails) => signTransactionDetails.wallet !== undefined)\n\n    if (transactionInfos.length > 0) {\n      if (transactionInfos.length !== signTransactionRequests.length) {\n        // TODO: probably show error\n      }\n\n      this.navigationService\n        .routeWithState('deserialized-detail', {\n          transactionInfos: transactionInfos,\n          type: IACMessageType.TransactionSignRequest\n        })\n\n        .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n\n      return true\n    } else {\n      const cancelButton = {\n        text: 'tab-wallets.no-secret_alert.okay_label',\n        role: 'cancel',\n        handler: () => {\n          scanAgainCallback()\n        }\n      }\n      this.uiEventService.showTranslatedAlert({\n        header: 'tab-wallets.no-secret_alert.title',\n        message: 'tab-wallets.no-secret_alert.text',\n        buttons: [cancelButton]\n      })\n\n      return false\n    }\n  }\n  private async handleMessageSignRequest(\n    messageDefinitionObjects: IACMessageDefinitionObjectV3[],\n    _transport: IACMessageTransport,\n    _scanAgainCallback: Function\n  ): Promise<boolean> {\n    const transactionInfos: SignTransactionInfo[] = await Promise.all(\n      messageDefinitionObjects.map(\n        async (messageDefinitionObject): Promise<SignTransactionInfo> => {\n          const messageSignRequest: MessageSignRequest = messageDefinitionObject.payload as MessageSignRequest\n\n          let correctWallet = this.secretsService.findWalletByPublicKeyAndProtocolIdentifier(\n            messageSignRequest.publicKey,\n            messageDefinitionObject.protocol\n          )\n\n          if (correctWallet) {\n            await this.activateWallet(correctWallet)\n          }\n\n          // If we can't find a wallet for a protocol, we will try to find the \"base\" wallet and then create a new\n          // wallet with the right protocol. This way we can sign all ERC20 transactions, but show the right amount\n          // and fee for all tokens we support.\n          if (!correctWallet) {\n            const baseWallet: AirGapWallet | undefined = this.secretsService.findBaseWalletByPublicKeyAndProtocolIdentifier(\n              messageSignRequest.publicKey,\n              messageDefinitionObject.protocol\n            )\n\n            if (baseWallet) {\n              await this.activateWallet(baseWallet)\n              // If the protocol is not supported, use the base protocol for signing\n              const protocol = await this.protocolService.getProtocol(messageDefinitionObject.protocol)\n              try {\n                correctWallet = new AirGapWallet(\n                  protocol,\n                  baseWallet.publicKey,\n                  baseWallet.isExtendedPublicKey,\n                  baseWallet.derivationPath,\n                  baseWallet.masterFingerprint,\n                  baseWallet.status\n                )\n                correctWallet.addresses = baseWallet.addresses\n              } catch (e) {\n                if (e.message === 'PROTOCOL_NOT_SUPPORTED') {\n                  correctWallet = baseWallet\n                }\n              }\n            }\n          }\n\n          return {\n            wallet: correctWallet,\n            signTransactionRequest: {\n              ...messageDefinitionObject,\n              payload: {\n                ...messageSignRequest,\n                publicKey: correctWallet?.publicKey ?? '' // ignore public key if no account has been found\n              }\n            }\n          }\n        }\n      )\n    )\n\n    this.navigationService\n      .routeWithState('deserialized-detail', {\n        transactionInfos: transactionInfos,\n        type: IACMessageType.MessageSignRequest\n      })\n      .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n\n    return true\n  }\n\n  private async activateWallet(wallet: AirGapWallet): Promise<void> {\n    if (wallet.status === AirGapWalletStatus.ACTIVE) {\n      return\n    }\n\n    wallet.status = AirGapWalletStatus.ACTIVE\n    await this.secretsService.updateWallet(wallet)\n  }\n}\n","import { ActionReducer, MetaReducer } from '@ngrx/store'\nimport { environment } from 'src/environments/environment'\n\nexport interface State {}\n\nexport const reducers = {}\n\nfunction logger(reducer: ActionReducer<State>): ActionReducer<State> {\n  return (state, action) => {\n    const newState = reducer(state, action)\n    console.groupCollapsed(action.type)\n    console.log('previous state', state)\n    console.log('action', action)\n    console.log('next state', newState)\n    console.groupEnd()\n\n    return newState\n  }\n}\nexport const metaReducers: MetaReducer<State>[] = !environment.production ? [logger] : []\n","import * as bip39 from 'bip39'\nimport { Hasher, sha3_256 } from 'js-sha3'\nimport secretJS from 'secrets.js-grempe'\n\nexport class BIPSigner {\n  public readonly checkSumLength: number = 10\n\n  private getOffsetMapping(share: string): { offset: number; seedOffset: number } {\n    const shareWordCount: number = share.split(' ').length\n\n    switch (shareWordCount) {\n      case 48:\n        return { offset: 99, seedOffset: 64 }\n      case 36:\n        return { offset: 67, seedOffset: 42 }\n      case 24:\n        return { offset: 67, seedOffset: 32 }\n      default:\n        throw new Error('Currently only recovery of secrets with 48, 36 or 24 words are supported')\n    }\n  }\n\n  private getRandomIntInclusive(min: number, max: number): number {\n    const randomBuffer: Uint32Array = new Uint32Array(1)\n    window.crypto.getRandomValues(randomBuffer)\n    const randomNumber: number = randomBuffer[0] / (0xffffffff + 1)\n    const ceilMin: number = Math.ceil(min)\n    const floorMax: number = Math.floor(max)\n\n    return Math.floor(randomNumber * (floorMax - ceilMin + 1)) + ceilMin\n  }\n\n  public entropyToMnemonic(entropy: string): string {\n    return bip39.entropyToMnemonic(entropy)\n  }\n\n  public mnemonicToEntropy(mnemonic: string): string {\n    const usedList: string[] | undefined = BIPSigner.determineWordList(mnemonic)\n\n    if (!usedList) {\n      throw Error('non-compatible secret')\n    }\n\n    return bip39.mnemonicToEntropy(mnemonic, usedList)\n  }\n\n  public mnemonicToSeedSync(mnemonic: string, passphrase?: string): Buffer {\n    return bip39.mnemonicToSeedSync(mnemonic, passphrase)\n  }\n\n  public static prepareMnemonic(mnemonic: string): string {\n    return mnemonic.trim().toLowerCase()\n  }\n\n  public static validateMnemonic(mnemonic: string): boolean {\n    const preparedMnemonic: string = BIPSigner.prepareMnemonic(mnemonic)\n    const wordList: string[] | undefined = BIPSigner.determineWordList(preparedMnemonic)\n\n    return bip39.validateMnemonic(preparedMnemonic, wordList)\n  }\n\n  public static determineWordList(mnemonic: string): string[] | undefined {\n    for (const list of BIPSigner.wordLists()) {\n      if (bip39.validateMnemonic(BIPSigner.prepareMnemonic(mnemonic), list)) {\n        return list\n      }\n    }\n\n    return undefined\n  }\n\n  public static wordLists(): string[][] {\n    return [\n      bip39.wordlists.english\n      /*\n            bip39.wordlists.chinese_simplified,\n            bip39.wordlists.chinese_traditional,\n            bip39.wordlists.french,\n            bip39.wordlists.italian,\n            bip39.wordlists.japanese,\n            bip39.wordlists.korean,\n            bip39.wordlists.spanish\n            */\n    ]\n  }\n\n  public generateSocialRecover(secret: string, numberOfShares: number, threshold: number): string[] {\n    if (threshold > numberOfShares) {\n      throw new Error('The threshold needs to be smaller or equal to the number or shares')\n    } else if (numberOfShares < 2) {\n      throw new Error('At least two shares are needed')\n    }\n    const secretDigester: Hasher = sha3_256.create()\n\n    // TODO check if mnemoinc or secret\n    const seed: string = bip39.mnemonicToEntropy(secret)\n    secretDigester.update(seed)\n\n    const shares = secretJS.share(seed + secretDigester.hex().slice(0, this.checkSumLength), numberOfShares, threshold)\n    const calculatedShares: string[] = []\n    for (let i = 0; i < shares.length; i++) {\n      const paddedShare = shares[i].concat(\n        Array(29)\n          .fill(0)\n          .map(() => this.getRandomIntInclusive(0, 9))\n          .join('')\n      )\n      calculatedShares[i] = `${bip39.entropyToMnemonic(paddedShare.slice(0, 64))} ${bip39.entropyToMnemonic(paddedShare.slice(64, 128))}`\n    }\n\n    return calculatedShares\n  }\n\n  public recoverKey(shares: any): string {\n    const offset = this.getOffsetMapping(shares[0])\n    const translatedShares: string[] = []\n    for (let i = 0; i < shares.length; i++) {\n      const words = shares[i].split(' ')\n      const firstHalf = words.slice(0, 24)\n      const secondHalf = words.slice(24, words.length)\n      translatedShares[i] = `${bip39.mnemonicToEntropy(firstHalf.join(' '))}${bip39.mnemonicToEntropy(secondHalf.join(' '))}`.substr(\n        0,\n        offset.offset\n      )\n    }\n    const secretDigester = sha3_256.create()\n    const combine = secretJS.combine(translatedShares)\n    const seed = combine.slice(0, -this.checkSumLength)\n\n    secretDigester.update(seed)\n\n    const checksum = secretDigester.hex().slice(0, this.checkSumLength)\n    const checksum2 = combine.substr(-this.checkSumLength)\n    if (checksum !== checksum2) {\n      throw new Error(\n        'Checksum error, either the passed shares were generated for different secrets or the amount of shares is below the threshold'\n      )\n    }\n\n    return bip39.entropyToMnemonic(seed)\n  }\n}\n","import '@angular/compiler' // TODO: It looks like an incompatible dependency forces us to import this\n\nimport { enableProdMode } from '@angular/core'\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic'\n\nimport { AppModule } from './app/app.module'\nimport { environment } from './environments/environment'\n\nif (environment.production) {\n  enableProdMode()\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.log(err))\n","import { Injectable } from '@angular/core'\nimport { DeviceMotion, DeviceMotionAccelerationData } from '@ionic-native/device-motion/ngx'\nimport { Platform } from '@ionic/angular'\nimport { Observable, Subscription } from 'rxjs'\n\nimport entropyCalculatorWorkerJS from '../../../assets/workers/entropyCalculatorWorker'\nimport { Entropy, IEntropyGenerator } from '../entropy/IEntropyGenerator'\n\nimport { GyroscopeService } from './gyroscope.factory'\nconst blobURL: string = window.URL.createObjectURL(new Blob([entropyCalculatorWorkerJS]))\nconst entropyCalculatorWorker: Worker = new Worker(blobURL)\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GyroscopeNativeService implements GyroscopeService, IEntropyGenerator {\n  private collectedEntropyPercentage: number = 0\n\n  private gyroSubscription: Subscription\n\n  private entropyObservable: Observable<Entropy>\n\n  constructor(private readonly platform: Platform, private readonly deviceMotion: DeviceMotion) {}\n\n  public start(): Promise<void> {\n    this.collectedEntropyPercentage = 0\n\n    return new Promise(async (resolve) => {\n      await this.platform.ready()\n      this.entropyObservable = new Observable((observer) => {\n        entropyCalculatorWorker.onmessage = (event) => {\n          this.collectedEntropyPercentage += event.data.entropyMeasure\n          observer.next({\n            entropyHex: event.data.entropyHex\n          })\n        }\n\n        this.gyroSubscription = this.deviceMotion\n          .watchAcceleration({ frequency: 500 })\n          .subscribe((acceleration: DeviceMotionAccelerationData) => {\n            const entropyBuffer = this.arrayBufferFromIntArray([acceleration.x, acceleration.y, acceleration.z])\n            entropyCalculatorWorker.postMessage({ entropyBuffer }, [entropyBuffer])\n          })\n      })\n      resolve()\n    })\n  }\n\n  public stop(): Promise<void> {\n    this.gyroSubscription.unsubscribe()\n\n    return Promise.resolve()\n  }\n\n  public getEntropyUpdateObservable(): Observable<Entropy> {\n    return this.entropyObservable\n  }\n\n  private arrayBufferFromIntArray(array: number[]): ArrayBuffer {\n    const buffer = new ArrayBuffer(array.length * 2)\n    const bufView = new Uint8Array(buffer)\n\n    for (let i = 0; i < array.length; i++) {\n      bufView[i] = Math.abs(array[i] * 10000)\n    }\n\n    return buffer\n  }\n\n  public getCollectedEntropyPercentage(): number {\n    return this.collectedEntropyPercentage / 25\n  }\n}\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}