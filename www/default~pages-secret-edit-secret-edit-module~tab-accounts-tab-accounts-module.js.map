{"version":3,"sources":["./src/app/pages/secret-edit/secret-edit.page.ts","./src/app/pages/secret-edit/secret-edit.page.html","./src/app/pages/secret-edit/secret-edit-popover/secret-edit-popover.component.ts","./src/app/pages/secret-edit/secret-edit-popover/secret-edit-popover.component.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAC8F;AAE1C;AACgD;AACpB;AACT;AAEyB;AAC1C;AACC;;;;;;;;;;;IC2CjD,mEAA4G;;;IAA3E,kPAAsE;;;IACvG,mEAAgH;;;IAA9E,qPAAyE;;;;IAJ/G,wEAAgC;IAC9B,wEAA6B;IAAA,uDAAyD;;IAAA,4DAAI;IAC1F,gGAAwI;IAAnC,2VAAkC;IACrI,uHAA4G;IAC5G,uHAAgH;IAClH,4DAA4B;IAC9B,qEAAe;;;IALgB,0DAAyD;IAAzD,yKAAyD;IAC3D,0DAAwC;IAAxC,iGAAwC;IAC7D,0DAA2B;IAA3B,8FAA2B;IAC3B,0DAA4B;IAA5B,+FAA4B;;AD1CtC,IAAY,gBAEX;AAFD,WAAY,gBAAgB;IAC1B,+EAAgB;AAClB,CAAC,EAFW,gBAAgB,KAAhB,gBAAgB,QAE3B;AAED;IAYE,wBACmB,WAA8B,EAC9B,SAA0B,EAC1B,SAA0B,EAC1B,gBAAkC,EAClC,gBAAkC,EAClC,cAA8B,EAC9B,iBAAoC,EACpC,QAAkB;QAPlB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAiB;QAC1B,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,aAAQ,GAAR,QAAQ,CAAU;QAd9B,iBAAY,GAAY,KAAK;QAE7B,cAAS,GAAY,KAAK;QAc/B,IAAI,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,EAAE;YACrC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAAC,MAAM;YAEtD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;YAE5C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC;SACvD;IACH,CAAC;IAEY,gCAAO,GAApB;;;;;;;wBAEI,qBAAM,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC;;wBAAxD,SAAwD;;;;wBAExD,sGAAgB,CAAC,2FAAa,CAAC,cAAc,CAAC,CAAC,OAAK,CAAC;wBAErD,mBAAmB;wBACnB,sBAAM;4BAGR,qBAAM,IAAI,CAAC,OAAO,EAAE;;wBAApB,SAAoB;wBAEpB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,gBAAgB,CAAC,CAAC;;;;;KACrG;IAEY,gCAAO,GAApB;;;gBACE,IAAI;oBACF,sBAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,EAAE;iBACnD;gBAAC,OAAO,KAAK,EAAE;oBACd,sBAAO,KAAK;iBACb;;;;KACF;IAEM,gDAAuB,GAA9B;QACE,IAAI,CAAC,iBAAiB;aACnB,cAAc,CAAC,wBAAwB,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC;aACjE,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,gBAAgB,CAAC,CAAC;IAC5D,CAAC;IAEM,8CAAqB,GAA5B;QACE,IAAI,CAAC,iBAAiB;aACnB,cAAc,CAAC,iCAAiC,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;aACxF,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,gBAAgB,CAAC,CAAC;IAC5D,CAAC;IAEM,2CAAkB,GAAzB;QACE,IAAI,CAAC,iBAAiB;aACnB,cAAc,CAAC,iBAAiB,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC;aAC1D,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,gBAAgB,CAAC,CAAC;IAC5D,CAAC;IAEY,8CAAqB,GAAlC;;;;;;;wBAEwB,qBAAM,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAAC,IAAI,CAAC,MAAM,CAAC;;wBAA1E,WAAW,GAAG,SAA4D;wBAChF,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC;;;;wBAEtC,IAAI,CAAC,SAAS,CAAC,6CAA6C,CAAC;;;;;;KAEhE;IAEY,qCAAY,GAAzB;;;;;;4BACgB,qBAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BACxC,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,uCAAuC,CAAC;4BAC9E,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,yCAAyC,CAAC;4BACjF,eAAe,EAAE,KAAK;4BACtB,MAAM,EAAE;gCACN;oCACE,IAAI,EAAE,YAAY;oCAClB,IAAI,EAAE,UAAU;oCAChB,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,4CAA4C,CAAC;oCAClF,KAAK,EAAE,YAAY;oCACnB,OAAO,EAAE,KAAK;iCACf;6BACF;4BACD,OAAO,EAAE;gCACP;oCACE,IAAI,EAAE,QAAQ;oCACd,IAAI,EAAE,QAAQ;iCACf;gCACD;oCACE,IAAI,EAAE,IAAI;oCACV,OAAO,EAAE,UAAO,MAAgB;;;;;yDAC1B,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC,EAA7B,wBAA6B;oDACf,qBAAM,IAAI,CAAC,cAAc,CAAC,wBAAwB,CAAC,IAAI,CAAC,MAAM,CAAC;;oDAAzE,OAAO,GAAG,SAA+D;oDACzE,MAAM,GAAG,IAAI,6DAAc,CAAC,OAAO,CAAC;oDAC1C,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,aAAa,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG,IAAK,cAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAlB,CAAkB,CAAC;;;;;yCAE9G;iCACF;6BACF;yBACF,CAAC;;wBA7BI,KAAK,GAAG,SA6BZ;wBACF,KAAK,CAAC,OAAO,EAAE;;;;;KAChB;IAEY,2CAAkB,GAA/B,UAAgC,KAAY;;;;;;4BACH,qBAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;4BACnE,SAAS,EAAE,6GAA0B;4BACrC,cAAc,EAAE;gCACd,MAAM,EAAE,IAAI,CAAC,MAAM;gCACnB,QAAQ,EAAE;oCACR,KAAI,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,WAAW,CAAC,CAAC;gCACnE,CAAC;6BACF;4BACD,KAAK;4BACL,WAAW,EAAE,IAAI;yBAClB,CAAC;;wBAVI,OAAO,GAA0B,SAUrC;wBAEF,OAAO,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,WAAW,CAAC,CAAC;;;;;KACrE;IAEO,gCAAO,GAAf,UAAgB,MAAoC;QAClD,QAAQ,MAAM,EAAE;YACd,KAAK,gBAAgB,CAAC,gBAAgB;gBACpC,IAAI,CAAC,qBAAqB,EAAE;gBAC5B,MAAK;SACR;IACH,CAAC;IAEa,kCAAS,GAAvB,UAAwB,OAAe;;;;;4BACF,qBAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BAC7D,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,OAAO,CAAC;4BAC/C,QAAQ,EAAE,IAAI;4BACd,QAAQ,EAAE,KAAK;4BACf,OAAO,EAAE;gCACP;oCACE,IAAI,EAAE,IAAI;oCACV,IAAI,EAAE,QAAQ;iCACf;6BACF;yBACF,CAAC;;wBAVI,KAAK,GAAwB,SAUjC;wBACF,KAAK,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,WAAW,CAAC,CAAC;;;;;KACnE;IAEa,6CAAoB,GAAlC,UAAmC,WAAmB;;;;;;4BACjB,qBAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BAC7D,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,6CAA6C,CAAC;4BACpF,SAAS,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,6CAA6C,CAAC;4BACvF,OAAO,EAAE,WAAW;4BACpB,OAAO,EAAE;gCACP;oCACE,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,4CAA4C,CAAC;oCACjF,OAAO,EAAE;wCACP,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC;wCACvC,KAAI,CAAC,SAAS,CAAC,wCAAwC,CAAC;oCAC1D,CAAC;iCACF;gCACD;oCACE,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,4CAA4C,CAAC;oCACjF,OAAO,EAAE,cAAO,CAAC;iCAClB;6BACF;yBACF,CAAC;;wBAjBI,KAAK,GAAwB,SAiBjC;wBACF,KAAK,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,WAAW,CAAC,CAAC;;;;;KACnE;gFAzKU,cAAc;kGAAd,cAAc;YCrB3B,gFAAkC;YAChC,8EAAa;YACX,iFAA0B;YACxB,6EAAmC;YACrC,4DAAc;YACd,4EAAW;YAAA,uDAAkD;;YAAA,4DAAY;YAEzE,iFAA4B;YAC1B,gFAAiD;YAArC,gJAAS,8BAA0B,IAAC;YAC9C,yEAAyE;YAC3E,4DAAa;YACf,4DAAc;YAChB,4DAAc;YAChB,4DAAa;YAEb,kFAAiC;YAC/B,qEAAG;YAAA,wDAAoC;;YAAA,4DAAI;YAE3C,+EAAiC;YAC/B,gFAA6C;YAAA,wDAAkD;;YAAA,4DAAY;YAC3G,gFAAsC;YAA3B,6LAA0B;YAAC,4DAAY;YACpD,4DAAW;YAKX,wEAA6C;YAAA,wDAAsD;;YAAA,4DAAI;YAEvG,qEAAG;YAAA,wDAAmD;;YAAA,4DAAI;YAC1D,iGAKC;YACC,sEAAI;YAAA,wDAA8C;;YAAA,4DAAK;YACvD,oEAA6D;;YAC/D,4DAA4B;YAE5B,yEAA6B;YAAA,wDAAuD;;YAAA,4DAAI;YACxF,iGAKC;YADC,4JAAU,6BAAyB,IAAC;YAEpC,sEAAI;YAAA,wDAAqD;;YAAA,4DAAK;YAC9D,oEAAoE;;YACtE,4DAA4B;YAE5B,+HAMe;YAEf,yEAA6B;YAAA,wDAAwC;;YAAA,4DAAI;YACzE,iGAAuI;YAAhC,4JAAU,wBAAoB,IAAC;YACpI,sEAAI;YAAA,wDAA8C;;YAAA,4DAAK;YACvD,oEAA0D;;YAC5D,4DAA4B;YAE5B,yEAA6B;YAAA,wDAAmD;;YAAA,4DAAI;YACpF,iGAAgI;YAA1B,4JAAU,kBAAc,IAAC;YAC7H,oEAAkE;;YACpE,4DAA4B;YAE5B,+EAAyD;YACvD,kFAAmG;YAApB,2IAAS,aAAS,IAAC;YAChG,wDACF;;YAAA,4DAAa;YACf,4DAAU;YACZ,4DAAc;;YArEC,0DAAkD;YAAlD,4KAAkD;YAW5D,0DAAoC;YAApC,sJAAoC;YAGQ,0DAAkD;YAAlD,oKAAkD;YACpF,0DAA0B;YAA1B,qFAA0B;YAMM,0DAAsD;YAAtD,wKAAsD;YAEhG,0DAAmD;YAAnD,qKAAmD;YAEpD,0DAAiB;YAAjB,0EAAiB;YAKb,0DAA8C;YAA9C,gKAA8C;YAC/C,0DAAqD;YAArD,mOAAqD;YAG7B,0DAAuD;YAAvD,yKAAuD;YAElF,0DAAgB;YAAhB,yEAAgB;YAKZ,0DAAqD;YAArD,uKAAqD;YACtD,0DAA4D;YAA5D,0OAA4D;YAGlD,0DAAe;YAAf,+EAAe;YAQD,0DAAwC;YAAxC,0JAAwC;YAC1C,0DAAgB;YAAhB,yEAAgB;YACrC,0DAA8C;YAA9C,gKAA8C;YAC/C,0DAAkD;YAAlD,gOAAkD;YAG1B,0DAAmD;YAAnD,qKAAmD;YACrD,0DAAgB;YAAhB,yEAAgB;YACtC,0DAA0D;YAA1D,wOAA0D;YAInB,0DAAoC;YAApC,iGAAoC;YAC5E,0DACF;YADE,0KACF;;yBDxEJ;CA+LC;AA1K0B;;;;;;;;;;;;;;;;;;;;;;;AEpBwC;AACb;AAChB;AAGiE;AAC7B;;;;;AAE1E;IASE,oCACmB,SAA0B,EAC1B,cAA8B,EAC9B,iBAAoC,EACpC,gBAAkC;QAHlC,cAAS,GAAT,SAAS,CAAiB;QAC1B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,qBAAgB,GAAhB,gBAAgB,CAAkB;IAClD,CAAC;IAEG,2CAAM,GAAb;QAAA,iBAyCC;QAxCC,IAAI,CAAC,gBAAgB;aAClB,GAAG,CAAC;YACH,kCAAkC;YAClC,iCAAiC;YACjC,yCAAyC;YACzC,yCAAyC;SAC1C,CAAC;aACD,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CAAC,UAAO,MAAgB;;;;;;wBAC1B,KAAK,GAAW,MAAM,CAAC,kCAAkC,CAAC;wBAC1D,OAAO,GAAW,MAAM,CAAC,iCAAiC,CAAC;wBAC3D,YAAY,GAAW,MAAM,CAAC,yCAAyC,CAAC;wBACxE,YAAY,GAAW,MAAM,CAAC,yCAAyC,CAAC;wBAE3C,qBAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gCAC7D,MAAM,EAAE,KAAK;gCACb,OAAO;gCACP,OAAO,EAAE;oCACP;wCACE,IAAI,EAAE,YAAY;wCAClB,IAAI,EAAE,QAAQ;wCACd,OAAO,EAAE;4CACP,KAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,WAAW,CAAC,CAAC;wCACrF,CAAC;qCACF;oCACD;wCACE,IAAI,EAAE,YAAY;wCAClB,OAAO,EAAE;4CACP,KAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,cAAc,CAAC,CAAC;4CAC7F,KAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,WAAW,CAAC,CAAC;4CAEnF,IAAI,KAAI,CAAC,QAAQ,EAAE;gDACjB,KAAI,CAAC,QAAQ,EAAE;6CAChB;wCACH,CAAC;qCACF;iCACF;6BACF,CAAC;;wBAvBI,KAAK,GAAwB,SAuBjC;wBACF,KAAK,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,WAAW,CAAC,CAAC;;;;aACnE,CAAC;IACN,CAAC;wGApDU,0BAA0B;8GAA1B,0BAA0B;YCdvC,8EAA4D;YAC1D,kFAAiB;YACf,4EAAW;YAAA,mEAAQ;YAAA,4DAAY;YAEjC,4DAAkB;YAClB,8EAAmD;YAAnB,oJAAS,YAAQ,IAAC;YAChD,yEAA6D;YAC7D,mEACF;YAAA,4DAAW;YACb,4DAAW;;qCDTX;CAmEC;AArDsC","file":"default~pages-secret-edit-secret-edit-module~tab-accounts-tab-accounts-module.js","sourcesContent":["import { Component } from '@angular/core'\nimport { PopoverController, Platform, ToastController, AlertController } from '@ionic/angular'\n\nimport { MnemonicSecret } from '../../models/secret'\nimport { ErrorCategory, handleErrorLocal } from '../../services/error-handler/error-handler.service'\nimport { NavigationService } from '../../services/navigation/navigation.service'\nimport { SecretsService } from '../../services/secrets/secrets.service'\n\nimport { SecretEditPopoverComponent } from './secret-edit-popover/secret-edit-popover.component'\nimport { TranslateService } from '@ngx-translate/core'\nimport { ClipboardService } from '@airgap/angular-core'\n\nexport enum SecretEditAction {\n  SET_RECOVERY_KEY\n}\n\n@Component({\n  selector: 'airgap-secret-edit',\n  templateUrl: './secret-edit.page.html',\n  styleUrls: ['./secret-edit.page.scss']\n})\nexport class SecretEditPage {\n  public isGenerating: boolean = false\n\n  public isAndroid: boolean = false\n\n  public secret: MnemonicSecret\n\n  constructor(\n    private readonly popoverCtrl: PopoverController,\n    private readonly toastCtrl: ToastController,\n    private readonly alertCtrl: AlertController,\n    private readonly translateService: TranslateService,\n    private readonly clipboardService: ClipboardService,\n    private readonly secretsService: SecretsService,\n    private readonly navigationService: NavigationService,\n    private readonly platform: Platform\n  ) {\n    if (this.navigationService.getState()) {\n      this.secret = this.navigationService.getState().secret\n\n      this.isAndroid = this.platform.is('android')\n\n      this.perform(this.navigationService.getState().action)\n    }\n  }\n\n  public async confirm(): Promise<void> {\n    try {\n      await this.secretsService.addOrUpdateSecret(this.secret)\n    } catch (error) {\n      handleErrorLocal(ErrorCategory.SECURE_STORAGE)(error)\n\n      // TODO: Show error\n      return\n    }\n\n    await this.dismiss()\n\n    this.navigationService.route('/account-add').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  public async dismiss(): Promise<boolean> {\n    try {\n      return this.navigationService.routeToAccountsTab()\n    } catch (error) {\n      return false\n    }\n  }\n\n  public goToSocialRecoverySetup(): void {\n    this.navigationService\n      .routeWithState('/social-recovery-setup', { secret: this.secret })\n      .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  public goToWalletInteraction(): void {\n    this.navigationService\n      .routeWithState('/interaction-selection-settings', { secret: this.secret, isEdit: true })\n      .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  public goToBip85ChildSeed(): void {\n    this.navigationService\n      .routeWithState('/bip85-generate', { secret: this.secret })\n      .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  public async resetRecoveryPassword(): Promise<void> {\n    try {\n      const recoveryKey = await this.secretsService.resetRecoveryPassword(this.secret)\n      this.showRecoveryKeyAlert(recoveryKey)\n    } catch (e) {\n      this.showToast('secret-edit.secret-recovery-key.reset-error')\n    }\n  }\n\n  public async showMnemonic() {\n    const alert = await this.alertCtrl.create({\n      header: this.translateService.instant('secret-edit.show-mnemonic.alert.title'),\n      message: this.translateService.instant('secret-edit.show-mnemonic.alert.message'),\n      backdropDismiss: false,\n      inputs: [\n        {\n          name: 'understood',\n          type: 'checkbox',\n          label: this.translateService.instant('secret-edit.show-mnemonic.alert.understood'),\n          value: 'understood',\n          checked: false\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        },\n        {\n          text: 'Ok',\n          handler: async (result: string[]) => {\n            if (result.includes('understood')) {\n              const entropy = await this.secretsService.retrieveEntropyForSecret(this.secret)\n              const secret = new MnemonicSecret(entropy)\n              this.navigationService.routeWithState('secret-show', { secret: secret }).catch((err) => console.error(err))\n            }\n          }\n        }\n      ]\n    })\n    alert.present()\n  }\n\n  public async presentEditPopover(event: Event): Promise<void> {\n    const popover: HTMLIonPopoverElement = await this.popoverCtrl.create({\n      component: SecretEditPopoverComponent,\n      componentProps: {\n        secret: this.secret,\n        onDelete: (): void => {\n          this.dismiss().catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n        }\n      },\n      event,\n      translucent: true\n    })\n\n    popover.present().catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n  }\n\n  private perform(action: SecretEditAction | undefined): void {\n    switch (action) {\n      case SecretEditAction.SET_RECOVERY_KEY:\n        this.resetRecoveryPassword()\n        break\n    }\n  }\n\n  private async showToast(message: string) {\n    const toast: HTMLIonToastElement = await this.toastCtrl.create({\n      message: this.translateService.instant(message),\n      duration: 1000,\n      position: 'top',\n      buttons: [\n        {\n          text: 'Ok',\n          role: 'cancel'\n        }\n      ]\n    })\n    toast.present().catch(handleErrorLocal(ErrorCategory.IONIC_ALERT))\n  }\n\n  private async showRecoveryKeyAlert(recoveryKey: string): Promise<void> {\n    const alert: HTMLIonAlertElement = await this.alertCtrl.create({\n      header: this.translateService.instant('secret-edit.secret-recovery-key.alert.title'),\n      subHeader: this.translateService.instant('secret-edit.secret-recovery-key.description'),\n      message: recoveryKey,\n      buttons: [\n        {\n          text: this.translateService.instant('secret-edit.secret-recovery-key.alert.copy'),\n          handler: () => {\n            this.clipboardService.copy(recoveryKey)\n            this.showToast('secret-edit.secret-recovery-key.copied')\n          }\n        },\n        {\n          text: this.translateService.instant('secret-edit.secret-recovery-key.alert.done'),\n          handler: () => {}\n        }\n      ]\n    })\n    alert.present().catch(handleErrorLocal(ErrorCategory.IONIC_ALERT))\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-back-button></ion-back-button>\n    </ion-buttons>\n    <ion-title>{{ 'Edit' }} {{ 'secret-edit.title' | translate }}</ion-title>\n\n    <ion-buttons slot=\"primary\">\n      <ion-button (click)=\"presentEditPopover($event)\">\n        <ion-icon slot=\"icon-only\" name=\"ellipsis-horizontal-outline\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <p>{{ 'secret-edit.text' | translate }}</p>\n\n  <ion-item class=\"ion-no-padding\">\n    <ion-label color=\"white\" position=\"floating\">{{ 'secret-edit.secret_input_label' | translate }}</ion-label>\n    <ion-input [(ngModel)]=\"secret.label\"></ion-input>\n  </ion-item>\n\n  <!-- Fingerprint:\n  <pre>{{ secret.fingerprint}}</pre> -->\n\n  <p class=\"font--weight__med ion-padding-top\">{{ 'secret-edit.security-level.heading' | translate }}</p>\n\n  <p>{{ 'secret-edit.security-level.text' | translate }}</p>\n  <airgap-secret-option-item\n    [enabled]=\"false\"\n    [icon]=\"'assets/icons/md-fiber_pin.svg'\"\n    [active]=\"secret.isParanoia\"\n    [checkboxValue]=\"secret.isParanoia\"\n  >\n    <h2>{{ 'secret-edit.passcode.label' | translate }}</h2>\n    <p [innerHTML]=\"'secret-edit.passcode.text' | translate\"></p>\n  </airgap-secret-option-item>\n\n  <p class=\"font--weight__med\">{{ 'secret-edit.secret-recovery.heading' | translate }}</p>\n  <airgap-secret-option-item\n    [enabled]=\"true\"\n    [icon]=\"'assets/icons/md-group_work.svg'\"\n    [active]=\"secret.hasSocialRecovery\"\n    (action)=\"goToSocialRecoverySetup()\"\n  >\n    <h2>{{ 'secret-edit.social-recovery.label' | translate }}</h2>\n    <p [innerHTML]=\"'secret-edit.social-recovery.text' | translate\"></p>\n  </airgap-secret-option-item>\n\n  <ng-container *ngIf=\"isAndroid\">\n    <p class=\"font--weight__med\">{{ 'secret-edit.secret-recovery-key.label' | translate }}</p>\n    <airgap-secret-option-item [icon]=\"'assets/icons/md-fiber_pin.svg'\" [active]=\"secret.hasRecoveryKey\" (action)=\"resetRecoveryPassword()\">\n      <p *ngIf=\"secret.hasRecoveryKey\" [innerHTML]=\"'secret-edit.secret-recovery-key.reset-text' | translate\"></p>\n      <p *ngIf=\"!secret.hasRecoveryKey\" [innerHTML]=\"'secret-edit.secret-recovery-key.generate-text' | translate\"></p>\n    </airgap-secret-option-item>\n  </ng-container>\n\n  <p class=\"font--weight__med\">{{ 'secret-edit.advanced' | translate }}</p>\n  <airgap-secret-option-item [enabled]=\"true\" [icon]=\"'assets/icons/md-swap_horiz.svg'\" [active]=\"false\" (action)=\"goToBip85ChildSeed()\">\n    <h2>{{ 'secret-edit.bip85.generate' | translate }}</h2>\n    <p [innerHTML]=\"'secret-edit.bip85.text' | translate\"></p>\n  </airgap-secret-option-item>\n\n  <p class=\"font--weight__med\">{{ 'secret-edit.show-mnemonic.label' | translate }}</p>\n  <airgap-secret-option-item [enabled]=\"true\" [icon]=\"'assets/icons/md-fiber_pin.svg'\" [active]=\"false\" (action)=\"showMnemonic()\">\n    <p [innerHTML]=\"'secret-edit.show-mnemonic.text' | translate\"></p>\n  </airgap-secret-option-item>\n\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button color=\"primary\" shape=\"round\" [disabled]=\"secret.label.length < 1\" (click)=\"confirm()\">\n      {{ 'secret-edit.confirm_label' | translate }}\n    </ion-button>\n  </ion-fab>\n</ion-content>\n","import { Component } from '@angular/core'\nimport { AlertController, PopoverController } from '@ionic/angular'\nimport { TranslateService } from '@ngx-translate/core'\nimport { first } from 'rxjs/operators'\n\nimport { MnemonicSecret } from '../../../models/secret'\nimport { ErrorCategory, handleErrorLocal } from '../../../services/error-handler/error-handler.service'\nimport { SecretsService } from '../../../services/secrets/secrets.service'\n\n@Component({\n  selector: 'airgap-secret-edit-popover',\n  templateUrl: './secret-edit-popover.component.html',\n  styleUrls: ['./secret-edit-popover.component.scss']\n})\nexport class SecretEditPopoverComponent {\n  private readonly secret: MnemonicSecret\n  private readonly onDelete: Function\n\n  constructor(\n    private readonly alertCtrl: AlertController,\n    private readonly secretsService: SecretsService,\n    private readonly popoverController: PopoverController,\n    private readonly translateService: TranslateService\n  ) {}\n\n  public delete(): void {\n    this.translateService\n      .get([\n        'secret-edit-delete-popover.title',\n        'secret-edit-delete-popover.text',\n        'secret-edit-delete-popover.cancel_label',\n        'secret-edit-delete-popover.delete_label'\n      ])\n      .pipe(first())\n      .subscribe(async (values: string[]) => {\n        const title: string = values['secret-edit-delete-popover.title']\n        const message: string = values['secret-edit-delete-popover.text']\n        const cancelButton: string = values['secret-edit-delete-popover.cancel_label']\n        const deleteButton: string = values['secret-edit-delete-popover.delete_label']\n\n        const alert: HTMLIonAlertElement = await this.alertCtrl.create({\n          header: title,\n          message,\n          buttons: [\n            {\n              text: cancelButton,\n              role: 'cancel',\n              handler: (): void => {\n                this.popoverController.dismiss().catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n              }\n            },\n            {\n              text: deleteButton,\n              handler: (): void => {\n                this.secretsService.remove(this.secret).catch(handleErrorLocal(ErrorCategory.SECURE_STORAGE))\n                this.popoverController.dismiss().catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n\n                if (this.onDelete) {\n                  this.onDelete()\n                }\n              }\n            }\n          ]\n        })\n        alert.present().catch(handleErrorLocal(ErrorCategory.IONIC_ALERT))\n      })\n  }\n}\n","<ion-list lines=\"none\" class=\"ion-no-padding ion-no-margin\">\n  <ion-list-header>\n    <ion-label>Settings</ion-label>\n\n  </ion-list-header>\n  <ion-item button detail=\"false\" (click)=\"delete()\">\n    <ion-icon name=\"md-trash\" color=\"dark\" slot=\"end\"></ion-icon>\n    Delete\n  </ion-item>\n</ion-list>"],"sourceRoot":"webpack:///"}