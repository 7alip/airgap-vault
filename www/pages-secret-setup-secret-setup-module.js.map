{"version":3,"sources":["./src/app/pages/secret-setup/secret-setup.page.ts","./src/app/pages/secret-setup/secret-setup.page.html","./src/app/pages/secret-setup/secret-setup.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACsC;AAG8B;AACgC;AACpB;AACT;AACsB;;;;;;;;;;;ICP3F,8EAA+B;IAC7B,kFAA0B;IACxB,6EAAmC;IACrC,4DAAc;IAChB,4DAAc;;;;IAgCZ,wEAAqC;IACnC,gFAAwE;IAA7B,sUAA4B;IACrE,0EAAsD;IAEtD,uDACF;;IAAA,4DAAa;IACb,uEAA8B;IAAA,uDAA+C;;IAAA,4DAAI;IAEjF,gFAAwE;IAA7B,sUAA4B;IACrE,0EAAyD;IAEzD,wDACF;;IAAA,4DAAa;IACb,qEAAG;IAAA,wDAA+C;;IAAA,4DAAI;IACxD,qEAAe;;IAVX,0DACF;IADE,2KACF;IAC8B,0DAA+C;IAA/C,+JAA+C;IAK3E,0DACF;IADE,4KACF;IACG,0DAA+C;IAA/C,iKAA+C;;ADxCxD;IAUE,yBACmB,iBAAoC,EACpC,cAA8B,EAC9B,aAA4B,EAC5B,cAAmC;QAHnC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,kBAAa,GAAb,aAAa,CAAe;QAC5B,mBAAc,GAAd,cAAc,CAAqB;QAR/C,cAAS,GAAY,KAAK;QAE1B,mBAAc,GAAY,KAAK;IAOnC,CAAC;IAEG,kCAAQ,GAAf;QAAA,iBASC;QARC,IAAI,CAAC,cAAc;aAChB,oBAAoB,EAAE;aACtB,IAAI,CAAC,4DAAK,EAAE,CAAC;aACb,SAAS,CAAC,UAAC,OAAyB;YACnC,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;gBACtB,KAAI,CAAC,SAAS,GAAG,IAAI;aACtB;QACH,CAAC,CAAC;IACN,CAAC;IAEM,yCAAe,GAAtB;QACE,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE;IACtC,CAAC;IAEM,0CAAgB,GAAvB;QACE,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE;IACxC,CAAC;IAEY,sCAAY,GAAzB;;;;;4BACsC,qBAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,iFAAe,CAAC,2BAA2B,CAAC;;wBAAxG,kBAAkB,GAAY,SAA0E;wBAC9G,IAAI,kBAAkB,EAAE;4BACtB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,gBAAgB,CAAC,CAAC;yBACzG;6BAAM;4BACL,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,6BAA6B,CAAC,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,gBAAgB,CAAC,CAAC;yBACpH;;;;;KACF;IAEM,oCAAU,GAAjB;QACE,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,gBAAgB,CAAC,CAAC;IACxG,CAAC;IAEM,kDAAwB,GAA/B;QACE,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,gBAAgB,CAAC,CAAC;IACjH,CAAC;IAEM,0CAAgB,GAAvB;QACE,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,gBAAgB,CAAC,CAAC;IAC/G,CAAC;IAEM,0CAAgB,GAAvB;QACE,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,4BAA4B,CAAC,CAAC,KAAK,CAAC,sGAAgB,CAAC,2FAAa,CAAC,gBAAgB,CAAC,CAAC;IACpH,CAAC;kFAtDU,eAAe;mGAAf,eAAe;YCf5B,gFAAkC;YAChC,2HAIc;YAChB,4DAAa;YAEb,iFAAiC;YAC/B,qEAAI;YAAA,uDAAwC;;YAAA,4DAAK;YAEjD,uEAA8B;YAAA,uDAAqC;;YAAA,4DAAI;YAEvE,gFAA0F;YAAzB,2IAAS,kBAAc,IAAC;YACvF,0EAAiE;YACjE,wDACF;;YAAA,4DAAa;YACb,wEAA8B;YAAA,wDAA8C;;YAAA,4DAAI;YAEhF,iFAAkE;YAAvB,4IAAS,gBAAY,IAAC;YAC/D,0EAAkF;YAClF,wDACF;;YAAA,4DAAa;YACb,wEAA8B;YAAA,wDAA4C;;YAAA,4DAAI;YAE9E,iFAAgF;YAArC,4IAAS,8BAA0B,IAAC;YAC7E,0EAAmE;YACnE,wDACF;;YAAA,4DAAa;YACb,wEAA8B;YAAA,wDAAqD;;YAAA,4DAAI;YAEvF,+EAAsE;YACpE,+EAAqC;YACnC,iFAAqC;YAAA,wDAAsD;;YAAA,4DAAY;YACvG,kFAAoE;YAA7B,iMAA4B;YAAC,4DAAa;YACnF,4DAAW;YAEX,iIAce;YACjB,4DAAW;YACb,4DAAc;;YApDE,0DAAe;YAAf,+EAAe;YAQzB,0DAAwC;YAAxC,yJAAwC;YAEd,0DAAqC;YAArC,sJAAqC;YAIjE,0DACF;YADE,4KACF;YAC8B,0DAA8C;YAA9C,gKAA8C;YAI1E,0DACF;YADE,0KACF;YAC8B,0DAA4C;YAA5C,8JAA4C;YAIxE,0DACF;YADE,mLACF;YAC8B,0DAAqD;YAArD,uKAAqD;YAI1C,0DAAsD;YAAtD,wKAAsD;YACpD,0DAA4B;YAA5B,uFAA4B;YAGtD,0DAAoB;YAApB,oFAAoB;;0BDrCvC;CAsEC;AAvD2B;;;;;;;;;;;;;AEf5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8C;AAEF;AACU;AACV;AACS;AAEA;;;AAErD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kEAAe;KAC3B;CACF;AAED;IAAA;KAIqC;8FAAxB,qBAAqB;wGAArB,qBAAqB;4GAHvB,CAAC,4DAAY,EAAE,0DAAW,EAAE,0DAAW,EAAE,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,mEAAe,CAAC;gCAjBnG;CAoBqC;AAAH;mIAArB,qBAAqB,mBAFjB,kEAAe,aADpB,4DAAY,EAAE,0DAAW,EAAE,0DAAW,EAAE,8DAA+B,mEAAe","file":"pages-secret-setup-secret-setup-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core'\nimport { first } from 'rxjs/operators'\n\nimport { MnemonicSecret } from '../../models/secret'\nimport { DeviceService } from '../../services/device/device.service'\nimport { ErrorCategory, handleErrorLocal } from '../../services/error-handler/error-handler.service'\nimport { NavigationService } from '../../services/navigation/navigation.service'\nimport { SecretsService } from '../../services/secrets/secrets.service'\nimport { VaultStorageKey, VaultStorageService } from '../../services/storage/storage.service'\n\n@Component({\n  selector: 'airgap-secret-setup',\n  templateUrl: './secret-setup.page.html',\n  styleUrls: ['./secret-setup.page.scss']\n})\nexport class SecretSetupPage implements OnInit {\n  public canGoBack: boolean = false\n\n  public isAdvancedMode: boolean = false\n\n  constructor(\n    private readonly navigationService: NavigationService,\n    private readonly secretsService: SecretsService,\n    private readonly deviceService: DeviceService,\n    private readonly storageService: VaultStorageService\n  ) {}\n\n  public ngOnInit(): void {\n    this.secretsService\n      .getSecretsObservable()\n      .pipe(first())\n      .subscribe((secrets: MnemonicSecret[]) => {\n        if (secrets.length > 0) {\n          this.canGoBack = true\n        }\n      })\n  }\n\n  public ionViewDidEnter(): void {\n    this.deviceService.setSecureWindow()\n  }\n\n  public ionViewWillLeave(): void {\n    this.deviceService.clearSecureWindow()\n  }\n\n  public async goToGenerate(): Promise<void> {\n    const hasShownDisclaimer: boolean = await this.storageService.get(VaultStorageKey.DISCLAIMER_GENERATE_INITIAL)\n    if (hasShownDisclaimer) {\n      this.navigationService.route('/secret-generate').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n    } else {\n      this.navigationService.route('/secret-generate-onboarding').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n    }\n  }\n\n  public goToImport(): void {\n    this.navigationService.route('/secret-import').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  public goToSocialRecoveryImport(): void {\n    this.navigationService.route('/social-recovery-import').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  public goToDiceRollPage(): void {\n    this.navigationService.route('/secret-generate-dice').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  public goToCoinFlipPage(): void {\n    this.navigationService.route('/secret-generate-coin-flip').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar *ngIf=\"canGoBack\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button></ion-back-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <h1>{{ 'secret-setup.heading' | translate }}</h1>\n\n  <p class=\"ion-padding-bottom\">{{ 'secret-setup.text' | translate }}</p>\n\n  <ion-button color=\"primary\" shape=\"round\" class=\"ion-margin-top\" (click)=\"goToGenerate()\">\n    <ion-icon slot=\"start\" src=\"assets/icons/md-edit.svg\"></ion-icon>\n    {{ 'secret-setup.generate.label' | translate }}\n  </ion-button>\n  <p class=\"ion-padding-bottom\">{{ 'secret-setup.generate.text' | translate }}</p>\n\n  <ion-button color=\"tertiary\" shape=\"round\" (click)=\"goToImport()\">\n    <ion-icon slot=\"start\" src=\"assets/icons/md-vertical_align_bottom.svg\"></ion-icon>\n    {{ 'secret-setup.import.label' | translate }}\n  </ion-button>\n  <p class=\"ion-padding-bottom\">{{ 'secret-setup.import.text' | translate }}</p>\n\n  <ion-button color=\"tertiary\" shape=\"round\" (click)=\"goToSocialRecoveryImport()\">\n    <ion-icon slot=\"start\" src=\"assets/icons/md-people.svg\"></ion-icon>\n    {{ 'secret-setup.social-recovery.label' | translate }}\n  </ion-button>\n  <p class=\"ion-padding-bottom\">{{ 'secret-setup.social-recovery.text' | translate }}</p>\n\n  <ion-list lines=\"none\" class=\"ion-padding-vertical ion-margin-bottom\">\n    <ion-item class=\"ion-padding-bottom\">\n      <ion-label class=\"font--weight__med\">{{ 'wallet-select-coins.advanced_label' | translate }}</ion-label>\n      <ion-toggle color=\"primary\" slot=\"end\" [(ngModel)]=\"isAdvancedMode\"></ion-toggle>\n    </ion-item>\n\n    <ng-container *ngIf=\"isAdvancedMode\">\n      <ion-button color=\"tertiary\" shape=\"round\" (click)=\"goToDiceRollPage()\">\n        <ion-icon slot=\"start\" name=\"dice-outline\"></ion-icon>\n\n        {{ 'secret-setup.dice-roll.label' | translate }}\n      </ion-button>\n      <p class=\"ion-padding-bottom\">{{ 'secret-setup.dice-roll.text' | translate }}</p>\n\n      <ion-button color=\"tertiary\" shape=\"round\" (click)=\"goToCoinFlipPage()\">\n        <ion-icon slot=\"start\" name=\"ellipse-outline\"></ion-icon>\n\n        {{ 'secret-setup.coin-flip.label' | translate }}\n      </ion-button>\n      <p>{{ 'secret-setup.coin-flip.text' | translate }}</p>\n    </ng-container>\n  </ion-list>\n</ion-content>\n","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule, Routes } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { SecretSetupPage } from './secret-setup.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SecretSetupPage\n  }\n]\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, RouterModule.forChild(routes), TranslateModule],\n  declarations: [SecretSetupPage]\n})\nexport class SecretSetupPageModule {}\n"],"sourceRoot":"webpack:///"}