{"version":3,"sources":["./src/app/pages/interaction-selection-settings/interaction-selection-settings.module.ts","./src/app/pages/interaction-selection-settings/interaction-selection-settings.page.ts","./src/app/pages/interaction-selection-settings/interaction-selection-settings.page.html"],"names":[],"mappings":"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","file":"pages-interaction-selection-settings-interaction-selection-settings-module.js","sourcesContent":["import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule, Routes } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { InteractionSelectionSettingsPage } from './interaction-selection-settings.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InteractionSelectionSettingsPage\n  }\n]\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, RouterModule.forChild(routes), TranslateModule],\n  declarations: [InteractionSelectionSettingsPage]\n})\nexport class InteractionSelectionSettingsPageModule {}\n","import { Component, OnInit } from '@angular/core'\nimport { InteractionType, VaultStorageKey, VaultStorageService } from 'src/app/services/storage/storage.service'\n\nimport { IInteractionOptions, InteractionCommunicationType, InteractionService } from '../../services/interaction/interaction.service'\nimport { NavigationService } from '../../services/navigation/navigation.service'\n\n@Component({\n  selector: 'airgap-interaction-selection-settings',\n  templateUrl: './interaction-selection-settings.page.html',\n  styleUrls: ['./interaction-selection-settings.page.scss']\n})\nexport class InteractionSelectionSettingsPage implements OnInit {\n  public interactionType: typeof InteractionType = InteractionType\n  public initialType: InteractionType | undefined\n  public selectedType: InteractionType | undefined\n  public isEdit: boolean = false\n\n  private readonly interactionOptions?: IInteractionOptions\n\n  constructor(\n    private readonly navigationService: NavigationService,\n    private readonly interactionService: InteractionService,\n    private readonly storageService: VaultStorageService\n  ) {\n    this.interactionOptions = this.navigationService.getState().interactionOptions\n  }\n\n  public async ngOnInit(): Promise<void> {\n    this.selectedType = await this.storageService.get(VaultStorageKey.INTERACTION_TYPE)\n\n    if (this.selectedType === InteractionType.UNDETERMINED) {\n      if (this.interactionOptions) {\n        this.selectedType =\n          this.interactionOptions.communicationType === InteractionCommunicationType.QR\n            ? InteractionType.QR_CODE\n            : this.interactionOptions.communicationType === InteractionCommunicationType.DEEPLINK\n            ? InteractionType.DEEPLINK\n            : undefined\n      } else {\n        this.selectedType = InteractionType.ALWAYS_ASK\n      }\n    }\n\n    this.initialType = this.selectedType\n  }\n\n  public goToNextPage(): void {\n    if (this.selectedType) {\n      this.storageService.set(VaultStorageKey.INTERACTION_TYPE, this.selectedType)\n    }\n\n    if (this.interactionOptions) {\n      this.interactionService.startInteraction(this.interactionOptions)\n    } else {\n      this.navigationService.back()\n    }\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-back-button></ion-back-button>\n    </ion-buttons>\n    <ion-title>{{ 'interaction-selection-settings.title' | translate }}</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <h3 *ngIf=\"initialType === interactionType.DEEPLINK\" [innerHTML]=\"'interaction-selection-settings.same-device_heading' | translate\"></h3>\n  <h3\n    *ngIf=\"initialType === interactionType.QR_CODE\"\n    [innerHTML]=\"'interaction-selection-settings.offline-device_heading' | translate\"\n  ></h3>\n\n  <p>{{ 'interaction-selection-settings.text' | translate }}</p>\n\n  <ion-list lines=\"none\" class=\"ion-padding-vertical\">\n    <ion-radio-group [(ngModel)]=\"selectedType\">\n      <ion-item detail=\"false\" class=\"ion-no-padding\">\n        <ion-label color=\"white\">{{ 'interaction-selection-settings.selector.always' | translate }}</ion-label>\n        <ion-radio class=\"ion-no-margin\" slot=\"end\" [value]=\"interactionType.ALWAYS_ASK\"></ion-radio>\n      </ion-item>\n      <ion-item detail=\"false\" class=\"ion-no-padding\">\n        <ion-label color=\"white\">{{ 'interaction-selection-settings.selector.same-device' | translate }}</ion-label>\n        <ion-radio class=\"ion-no-margin\" slot=\"end\" [value]=\"interactionType.DEEPLINK\"></ion-radio>\n      </ion-item>\n      <ion-item detail=\"false\" class=\"ion-no-padding\">\n        <ion-label color=\"white\">{{ 'interaction-selection-settings.selector.offline-device' | translate }}</ion-label>\n        <ion-radio class=\"ion-no-margin\" slot=\"end\" [value]=\"interactionType.QR_CODE\"></ion-radio>\n      </ion-item>\n    </ion-radio-group>\n  </ion-list>\n\n  <p>{{ 'interaction-selection-settings.description' | translate }}</p>\n\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button color=\"primary\" shape=\"round\" (click)=\"goToNextPage()\">\n      {{ 'interaction-selection-settings.continue_label' | translate }}\n    </ion-button>\n  </ion-fab>\n</ion-content>\n"],"sourceRoot":"webpack:///"}